<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>partition_rule.h source code [tvm/src/relay/collage/partition_rule.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tvm::relay::collage::CombinePartitionRule,tvm::relay::collage::CombinePartitionRuleNode,tvm::relay::collage::CompositePartitionRule,tvm::relay::collage::CompositePartitionRuleNode,tvm::relay::collage::DFPatternPartitionRule,tvm::relay::collage::DFPatternPartitionRuleNode,tvm::relay::collage::HostPartitionRule,tvm::relay::collage::HostPartitionRuleNode,tvm::relay::collage::OnlyValidPartitionRule,tvm::relay::collage::OnlyValidPartitionRuleNode,tvm::relay::collage::OpCallByKindPartitionRule,tvm::relay::collage::OpCallByKindPartitionRuleNode,tvm::relay::collage::PartitionRule,tvm::relay::collage::PartitionRuleNode,tvm::relay::collage::PrimitivePartitionRule,tvm::relay::collage::PrimitivePartitionRuleNode,tvm::relay::collage::UnionPartitionRule,tvm::relay::collage::UnionPartitionRuleNode "/>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tvm/src/relay/collage/partition_rule.h'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>tvm</a>/<a href='../..'>src</a>/<a href='..'>relay</a>/<a href='./'>collage</a>/<a href='partition_rule.h.html'>partition_rule.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Licensed to the Apache Software Foundation (ASF) under one</i></td></tr>
<tr><th id="3">3</th><td><i> * or more contributor license agreements.  See the NOTICE file</i></td></tr>
<tr><th id="4">4</th><td><i> * distributed with this work for additional information</i></td></tr>
<tr><th id="5">5</th><td><i> * regarding copyright ownership.  The ASF licenses this file</i></td></tr>
<tr><th id="6">6</th><td><i> * to you under the Apache License, Version 2.0 (the</i></td></tr>
<tr><th id="7">7</th><td><i> * "License"); you may not use this file except in compliance</i></td></tr>
<tr><th id="8">8</th><td><i> * with the License.  You may obtain a copy of the License at</i></td></tr>
<tr><th id="9">9</th><td><i> *</i></td></tr>
<tr><th id="10">10</th><td><i> *   <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="11">11</th><td><i> *</i></td></tr>
<tr><th id="12">12</th><td><i> * Unless required by applicable law or agreed to in writing,</i></td></tr>
<tr><th id="13">13</th><td><i> * software distributed under the License is distributed on an</i></td></tr>
<tr><th id="14">14</th><td><i> * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</i></td></tr>
<tr><th id="15">15</th><td><i> * KIND, either express or implied.  See the License for the</i></td></tr>
<tr><th id="16">16</th><td><i> * specific language governing permissions and limitations</i></td></tr>
<tr><th id="17">17</th><td><i> * under the License.</i></td></tr>
<tr><th id="18">18</th><td><i> */</i></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="21">21</th><td><i class="doc"> * <span class="command">\file</span> <span class="verb">src/relay/collage/partition_rule.h</span></i></td></tr>
<tr><th id="22">22</th><td><i class="doc"> * <span class="command">\brief</span> Compositional partitioning rules.</i></td></tr>
<tr><th id="23">23</th><td><i class="doc"> */</i></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#<span data-ppcond="25">ifndef</span> <span class="macro" data-ref="_M/TVM_RELAY_COLLAGE_PARTITION_RULE_H_">TVM_RELAY_COLLAGE_PARTITION_RULE_H_</span></u></td></tr>
<tr><th id="26">26</th><td><u>#define <dfn class="macro" id="_M/TVM_RELAY_COLLAGE_PARTITION_RULE_H_" data-ref="_M/TVM_RELAY_COLLAGE_PARTITION_RULE_H_">TVM_RELAY_COLLAGE_PARTITION_RULE_H_</dfn></u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../include/tvm/relay/dataflow_pattern.h.html">&lt;tvm/relay/dataflow_pattern.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../include/tvm/relay/expr.h.html">&lt;tvm/relay/expr.h&gt;</a></u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../../include/c++/10/string.html">&lt;string&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../../include/c++/10/vector.html">&lt;vector&gt;</a></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../printer/doc.h.html">"../../printer/doc.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="candidate_partition.h.html">"./candidate_partition.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="combiner_rule.h.html">"./combiner_rule.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="sub_graph.h.html">"./sub_graph.h"</a></u></td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td><b>namespace</b> <span class="namespace">tvm</span> {</td></tr>
<tr><th id="40">40</th><td><b>namespace</b> <span class="namespace">relay</span> {</td></tr>
<tr><th id="41">41</th><td><b>namespace</b> <span class="namespace">collage</span> {</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="44">44</th><td><i class="doc"> * <span class="command">\brief</span> Type of function to check if a matched sub-expression should be accepted by a rule. This</i></td></tr>
<tr><th id="45">45</th><td><i class="doc"> * can be used to, eg, reject operators of unsupported shape or dtype, or otherwise implement rules</i></td></tr>
<tr><th id="46">46</th><td><i class="doc"> * which are difficult to express in the dataflow pattern language directly.</i></td></tr>
<tr><th id="47">47</th><td><i class="doc"> */</i></td></tr>
<tr><th id="48">48</th><td><b>using</b> <dfn class="typedef" id="tvm::relay::collage::TPatternPredicate" title='tvm::relay::collage::TPatternPredicate' data-type='TypedPackedFunc&lt;bool (const tvm::relay::Expr &amp;)&gt;' data-ref="tvm::relay::collage::TPatternPredicate" data-ref-filename="tvm..relay..collage..TPatternPredicate">TPatternPredicate</dfn> = <a class="type" href="../../../include/tvm/runtime/packed_func.h.html#tvm::runtime::TypedPackedFunc" title='tvm::runtime::TypedPackedFunc' data-ref="tvm::runtime::TypedPackedFunc" data-ref-filename="tvm..runtime..TypedPackedFunc">TypedPackedFunc</a>&lt;<em>bool</em>(<em>const</em> <a class="typedef" href="../../../include/tvm/relay/expr.h.html#tvm::relay::Expr" title='tvm::relay::Expr' data-type='tvm::RelayExpr' data-ref="tvm::relay::Expr" data-ref-filename="tvm..relay..Expr">Expr</a>&amp; <dfn class="local col0 decl" id="450matched_sub_expr" title='matched_sub_expr' data-type='const tvm::relay::Expr &amp;' data-ref="450matched_sub_expr" data-ref-filename="450matched_sub_expr">matched_sub_expr</dfn>)&gt;;</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="51">51</th><td><i class="doc"> * <span class="command">\brief</span> The default pattern predicate. Always returns true.</i></td></tr>
<tr><th id="52">52</th><td><i class="doc"> */</i></td></tr>
<tr><th id="53">53</th><td><em>bool</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE" title='tvm::relay::collage::DefaultPatternPredicate' data-ref="_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE" data-ref-filename="_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE">DefaultPatternPredicate</dfn>(<em>const</em> <a class="typedef" href="../../../include/tvm/relay/expr.h.html#tvm::relay::Expr" title='tvm::relay::Expr' data-type='tvm::RelayExpr' data-ref="tvm::relay::Expr" data-ref-filename="tvm..relay..Expr">Expr</a>&amp; <dfn class="local col1 decl" id="451matched_sub_expr" title='matched_sub_expr' data-type='const tvm::relay::Expr &amp;' data-ref="451matched_sub_expr" data-ref-filename="451matched_sub_expr">matched_sub_expr</dfn>);</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="56">56</th><td><i class="doc"> * <span class="command">\brief</span> Base class of all partition rules.</i></td></tr>
<tr><th id="57">57</th><td><i class="doc"> *</i></td></tr>
<tr><th id="58">58</th><td><i class="doc"> * A<span class="command"> \p</span> <span class="arg">PartitionRule</span> describes how to find a set of<span class="command"> \p</span> <span class="arg">CandidatePartitions</span> for a<span class="command"> \p</span> <span class="arg">DataflowGraph.</span></i></td></tr>
<tr><th id="59">59</th><td><i class="doc"> * The candidates are allowed to overlap, and ultimately it is the job of the Collage searcher to</i></td></tr>
<tr><th id="60">60</th><td><i class="doc"> * find a selection of candidates which covers the whole Relay expression without overlap. Partition</i></td></tr>
<tr><th id="61">61</th><td><i class="doc"> * rules are paired with their<span class="command"> \p</span> <span class="arg">Target</span> and other 'top level' configuration in a<span class="command"> \p</span> <span class="arg">PartitionSpec.</span></i></td></tr>
<tr><th id="62">62</th><td><i class="doc"> *</i></td></tr>
<tr><th id="63">63</th><td><i class="doc"> * We provide a set of 'base' partition rules which produce candidates from the dataflow graph</i></td></tr>
<tr><th id="64">64</th><td><i class="doc"> * directly. We also provide a set of 'combinator' partition rules which can produce new candidates</i></td></tr>
<tr><th id="65">65</th><td><i class="doc"> * from the results of an arbitrary sub-rule or sub-rules. By mixing these base and combinator</i></td></tr>
<tr><th id="66">66</th><td><i class="doc"> * rules we can express a wide variety of partition strategies and encoding conventions.</i></td></tr>
<tr><th id="67">67</th><td><i class="doc"> *</i></td></tr>
<tr><th id="68">68</th><td><i class="doc"> * There may be many thousands of candidates in flight during the Collage search. We take care to</i></td></tr>
<tr><th id="69">69</th><td><i class="doc"> * defer constructing or rewriting Relay expressions until absolutely necessary. We only pay for</i></td></tr>
<tr><th id="70">70</th><td><i class="doc"> * extracting a function to represent a candidate when we need to measure it's cost. And we only</i></td></tr>
<tr><th id="71">71</th><td><i class="doc"> * pay for rewriting the overall Relay expression to commit to a partitioning when the Collage</i></td></tr>
<tr><th id="72">72</th><td><i class="doc"> * search has completed.</i></td></tr>
<tr><th id="73">73</th><td><i class="doc"> *</i></td></tr>
<tr><th id="74">74</th><td><i class="doc"> * The base rules implemented so far:</i></td></tr>
<tr><th id="75">75</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">DFPatternPartitionRule:</span> Given a<span class="command"> \p</span> <span class="arg">DFPattern</span> and expression predicate, produces a candidate</i></td></tr>
<tr><th id="76">76</th><td><i class="doc"> *    for every sub-graph matched by the pattern and predicate. Unlike the<span class="command"> \p</span> <span class="arg">PatternRewriter,</span></i></td></tr>
<tr><th id="77">77</th><td><i class="doc"> *    candidates are free to overlap. Used to bring BYOC patterns into the Collage framework.</i></td></tr>
<tr><th id="78">78</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">OpCallByKindPartitionRule:</span> Uses the "TOpPattern" attribute provided for every Relay</i></td></tr>
<tr><th id="79">79</th><td><i class="doc"> *    operator to produce a candidate for every call to a 'fusable Relay operator'. Used to</i></td></tr>
<tr><th id="80">80</th><td><i class="doc"> *    look ahead to how TVM will fuse sub-graphs.</i></td></tr>
<tr><th id="81">81</th><td><i class="doc"> *</i></td></tr>
<tr><th id="82">82</th><td><i class="doc"> * The combinator rules implemented so far:</i></td></tr>
<tr><th id="83">83</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">CompositePartitionRule:</span> Indicates all candidates matched by the sub-rule should be wrapped</i></td></tr>
<tr><th id="84">84</th><td><i class="doc"> *    by a "Composite" function. The "Composite" name is taken from the rule name. Used to indicate</i></td></tr>
<tr><th id="85">85</th><td><i class="doc"> *    Relay operators (or groups of Relay operators) should be mapped to target-specific operators,</i></td></tr>
<tr><th id="86">86</th><td><i class="doc"> *    both for BYOC and TVM external library integrations.</i></td></tr>
<tr><th id="87">87</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">PrimitivePartitionRule:</span> Indicates all candidates matched by the sub-rule should be wrapped</i></td></tr>
<tr><th id="88">88</th><td><i class="doc"> *    by a "Primitive" function, possibly with an additional "Compiler" attribute. Used to</i></td></tr>
<tr><th id="89">89</th><td><i class="doc"> *    delineate a partition (or kernel).</i></td></tr>
<tr><th id="90">90</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">UnionPartitionRule:</span> Simply unions all the candidates from all sub-rules together. Used to</i></td></tr>
<tr><th id="91">91</th><td><i class="doc"> *    combine individual<span class="command"> \p</span> <span class="arg">DFPatternPartitionRules.</span></i></td></tr>
<tr><th id="92">92</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">CombinePartitionRule:</span> Given a sub-rule and a list of 'combiner' rules, finds</i></td></tr>
<tr><th id="93">93</th><td><i class="doc"> *    all possible ways of combining the sub-rule's candidates to yield even larger candidates.</i></td></tr>
<tr><th id="94">94</th><td><i class="doc"> *    Note that the sub-rule's candidates may also be directly included in the results. The</i></td></tr>
<tr><th id="95">95</th><td><i class="doc"> *    'combiner' rules allow combining by<span class="command"> \p</span> <span class="arg">OpPatternKinds,</span> combining the arguments to tuples</i></td></tr>
<tr><th id="96">96</th><td><i class="doc"> *    which themselves are arguments to Relay operator calls, and so on. This rule is intended to</i></td></tr>
<tr><th id="97">97</th><td><i class="doc"> *    mimic the existing TVM<span class="command"> \p</span> <span class="arg">FuseOps</span> pass, though:</i></td></tr>
<tr><th id="98">98</th><td><i class="doc"> *    i) all candidates are found rather than just the largest, ii) the starting set of candidates</i></td></tr>
<tr><th id="99">99</th><td><i class="doc"> *    can be provided by any other rule, and iii) we rely on<span class="command"> \p</span> <span class="arg">SubGraph</span> validity checking to weed</i></td></tr>
<tr><th id="100">100</th><td><i class="doc"> *    out infeasible candidates.</i></td></tr>
<tr><th id="101">101</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">OnlyValidPartitionRule:</span> Given a<span class="command"> \p</span> <span class="arg">SubGraphConfig,</span> ignores candidates with 'invalid'</i></td></tr>
<tr><th id="102">102</th><td><i class="doc"> *    sub-graphs. Used to limit the maximum candidate depth, the number of independent outputs,</i></td></tr>
<tr><th id="103">103</th><td><i class="doc"> *    and whether intermediate 'taps' are allowed.</i></td></tr>
<tr><th id="104">104</th><td><i class="doc"> *  -<span class="command"> \p</span> <span class="arg">HostPartitionRule:</span> Produces candidates for all Relay expressions which could be</i></td></tr>
<tr><th id="105">105</th><td><i class="doc"> *    'left behind' for execution by the host (eg on the VM). This rule lets us simplify the</i></td></tr>
<tr><th id="106">106</th><td><i class="doc"> *    overall Collage search algorithm.</i></td></tr>
<tr><th id="107">107</th><td><i class="doc"> *</i></td></tr>
<tr><th id="108">108</th><td><i class="doc"> * (Though not yet implemented, we'd like to allow a combinator rule which will union candidate</i></td></tr>
<tr><th id="109">109</th><td><i class="doc"> * based on their 'anchor' operators. This can be used to implement 'vertical' and 'horizontal'</i></td></tr>
<tr><th id="110">110</th><td><i class="doc"> * partition on more primitive candidates. Note that the<span class="command"> \p</span> <span class="arg">SubGraph</span> machinery supports</i></td></tr>
<tr><th id="111">111</th><td><i class="doc"> * multiple-input and -output sub-graphs and their validation, so horizontal partition is easy</i></td></tr>
<tr><th id="112">112</th><td><i class="doc"> * implement.)</i></td></tr>
<tr><th id="113">113</th><td><i class="doc"> *</i></td></tr>
<tr><th id="114">114</th><td><i class="doc"> * Here are some typical ways to combine<span class="command"> \p</span> <span class="arg">PartitionRules</span> for different partition/fusion</i></td></tr>
<tr><th id="115">115</th><td><i class="doc"> * strategies:</i></td></tr>
<tr><th id="116">116</th><td><i class="doc"> *</i></td></tr>
<tr><th id="117">117</th><td><i class="doc"> *  - Classic pattern-based BYOC with<span class="command"> \p</span> <span class="arg">MergeComposite/AnnotateTarget/PartitionGraph</span> passes:</i></td></tr>
<tr><th id="118">118</th><td><i class="doc"> *    <span class="command">\code</span></i></td></tr>
<tr><th id="119">119</th><td><i class="doc"> *<span class="verb">    PrimitivePartitionRule</span></i></td></tr>
<tr><th id="120">120</th><td><i class="doc"><span class="verb"></span> *<span class="verb">      OnlyValidPartitionRule</span></i></td></tr>
<tr><th id="121">121</th><td><i class="doc"><span class="verb"></span> *<span class="verb">        CombinePartitionRule (with join-anything combiner rule)</span></i></td></tr>
<tr><th id="122">122</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          UnionPartitionRule</span></i></td></tr>
<tr><th id="123">123</th><td><i class="doc"><span class="verb"></span> *<span class="verb">            CompositePartitionRule(label1)</span></i></td></tr>
<tr><th id="124">124</th><td><i class="doc"><span class="verb"></span> *<span class="verb">              DFPatternPartitionRule(pattern1)</span></i></td></tr>
<tr><th id="125">125</th><td><i class="doc"><span class="verb"></span> *<span class="verb">                        :</span></i></td></tr>
<tr><th id="126">126</th><td><i class="doc"><span class="verb"></span> *<span class="verb">            CompositePartitionRule(labeln)</span></i></td></tr>
<tr><th id="127">127</th><td><i class="doc"><span class="verb"></span> *<span class="verb">              DFPatternPartitionRule(patternn)</span></i></td></tr>
<tr><th id="128">128</th><td><i class="doc"><span class="verb"></span> *    \endcode</i></td></tr>
<tr><th id="129">129</th><td><i class="doc"> *</i></td></tr>
<tr><th id="130">130</th><td><i class="doc"> *  - "Consider this library implementation for these sub-expressions", using<span class="command"> \p</span> <span class="arg">DFPatterns</span> to</i></td></tr>
<tr><th id="131">131</th><td><i class="doc"> *    pick out which Relay operators are supported:</i></td></tr>
<tr><th id="132">132</th><td><i class="doc"> *    <span class="command">\code</span></i></td></tr>
<tr><th id="133">133</th><td><i class="doc"> *<span class="verb">    OnlyValidPartitionRule</span></i></td></tr>
<tr><th id="134">134</th><td><i class="doc"><span class="verb"></span> *<span class="verb">      CombinePartitionRule (with default TVM combiner rules)</span></i></td></tr>
<tr><th id="135">135</th><td><i class="doc"><span class="verb"></span> *<span class="verb">        UnionPartitionRule</span></i></td></tr>
<tr><th id="136">136</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          OpCallByKindPartitionRule</span></i></td></tr>
<tr><th id="137">137</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          CompositePartitionRule(lable1)</span></i></td></tr>
<tr><th id="138">138</th><td><i class="doc"><span class="verb"></span> *<span class="verb">            DFPatternPartitionRule(pattern1)</span></i></td></tr>
<tr><th id="139">139</th><td><i class="doc"><span class="verb"></span> *<span class="verb">                       :</span></i></td></tr>
<tr><th id="140">140</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          CompositePartitionRule(lablen)</span></i></td></tr>
<tr><th id="141">141</th><td><i class="doc"><span class="verb"></span> *<span class="verb">            DFPatternPartitionRule(patternn)</span></i></td></tr>
<tr><th id="142">142</th><td><i class="doc"><span class="verb"></span> *    \endcode</i></td></tr>
<tr><th id="143">143</th><td><i class="doc"> *</i></td></tr>
<tr><th id="144">144</th><td><i class="doc"> *  - Classic TVM<span class="command"> \p</span> <span class="arg">FuseOps</span></i></td></tr>
<tr><th id="145">145</th><td><i class="doc"> *    <span class="command">\code</span></i></td></tr>
<tr><th id="146">146</th><td><i class="doc"> *<span class="verb">    PrimitivePartitionRule</span></i></td></tr>
<tr><th id="147">147</th><td><i class="doc"><span class="verb"></span> *<span class="verb">      OnlyValidPartitionRule</span></i></td></tr>
<tr><th id="148">148</th><td><i class="doc"><span class="verb"></span> *<span class="verb">        CombinePartitionRule (with default TVM combiner rules)</span></i></td></tr>
<tr><th id="149">149</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          OpCallByKindPartitionRule</span></i></td></tr>
<tr><th id="150">150</th><td><i class="doc"><span class="verb"></span> *    \endcode</i></td></tr>
<tr><th id="151">151</th><td><i class="doc"> *</i></td></tr>
<tr><th id="152">152</th><td><i class="doc"> *  - "Just fuse what I tell you to fuse", using<span class="command"> \p</span> <span class="arg">DFPatterns</span> to directly select candidates:</i></td></tr>
<tr><th id="153">153</th><td><i class="doc"> *    <span class="command">\code</span></i></td></tr>
<tr><th id="154">154</th><td><i class="doc"> *<span class="verb">    PrimitivePartitionRule</span></i></td></tr>
<tr><th id="155">155</th><td><i class="doc"><span class="verb"></span> *<span class="verb">      OnlyValidPartitionRule</span></i></td></tr>
<tr><th id="156">156</th><td><i class="doc"><span class="verb"></span> *<span class="verb">        UnionPartitionRule</span></i></td></tr>
<tr><th id="157">157</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          DFPatternPartitionRule(pattern1)</span></i></td></tr>
<tr><th id="158">158</th><td><i class="doc"><span class="verb"></span> *<span class="verb">                       :</span></i></td></tr>
<tr><th id="159">159</th><td><i class="doc"><span class="verb"></span> *<span class="verb">          DFPatternPartitionRule(patternn)</span></i></td></tr>
<tr><th id="160">160</th><td><i class="doc"><span class="verb"></span> *    \endcode</i></td></tr>
<tr><th id="161">161</th><td><i class="doc"> */</i></td></tr>
<tr><th id="162">162</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</dfn> : <b>public</b> Object {</td></tr>
<tr><th id="163">163</th><td> <b>public</b>:</td></tr>
<tr><th id="164">164</th><td>  <i class="doc">/*!</i></td></tr>
<tr><th id="165">165</th><td><i class="doc">   * <span class="command">\brief</span> A unique (over all rules for the same target) name for the rule. Rule names are</i></td></tr>
<tr><th id="166">166</th><td><i class="doc">   * combined and captured with<span class="command"> \p</span> <span class="arg">PartitionCandidate</span> rule names for debuggability and</i></td></tr>
<tr><th id="167">167</th><td><i class="doc">   * explainability. Some rules will copy the rule name into function attributes.</i></td></tr>
<tr><th id="168">168</th><td><i class="doc">   *</i></td></tr>
<tr><th id="169">169</th><td><i class="doc">   */</i></td></tr>
<tr><th id="170">170</th><td>  String <dfn class="decl field" id="tvm::relay::collage::PartitionRuleNode::rule_name_" title='tvm::relay::collage::PartitionRuleNode::rule_name_' data-ref="tvm::relay::collage::PartitionRuleNode::rule_name_" data-ref-filename="tvm..relay..collage..PartitionRuleNode..rule_name_">rule_name_</dfn>;</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage17PartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::PartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage17PartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage17PartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col2 decl" id="452v" title='v' data-type='tvm::AttrVisitor *' data-ref="452v" data-ref-filename="452v">v</dfn>);</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>  <i class="doc">/*!</i></td></tr>
<tr><th id="175">175</th><td><i class="doc">   * <span class="command">\brief</span> Returns all the possible candidate partitions according to this rule for the overall</i></td></tr>
<tr><th id="176">176</th><td><i class="doc">   * expression corresponding to<span class="command"> \p</span> <span class="arg">dataflow_graph.</span> The candidates will generally have unknown</i></td></tr>
<tr><th id="177">177</th><td><i class="doc">   * target and cost: the target will be filled in by the<span class="command"> \p</span> <span class="arg">PartitionSpec,</span> while the cost will</i></td></tr>
<tr><th id="178">178</th><td><i class="doc">   * be filled in lazily.</i></td></tr>
<tr><th id="179">179</th><td><i class="doc">   */</i></td></tr>
<tr><th id="180">180</th><td>  <b>virtual</b> <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage17PartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::PartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage17PartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage17PartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col3 decl" id="453dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="453dataflow_graph" data-ref-filename="453dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="181">181</th><td>                                                        <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col4 decl" id="454spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="454spec" data-ref-filename="454spec">spec</dfn>) <em>const</em>;</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a> <dfn class="decl fn" id="_ZNK3tvm5relay7collage17PartitionRuleNode8ToStringB5cxx11Ev" title='tvm::relay::collage::PartitionRuleNode::ToString' data-ref="_ZNK3tvm5relay7collage17PartitionRuleNode8ToStringB5cxx11Ev" data-ref-filename="_ZNK3tvm5relay7collage17PartitionRuleNode8ToStringB5cxx11Ev">ToString</dfn>() <em>const</em>;</td></tr>
<tr><th id="184">184</th><td>  <a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a> <dfn class="decl fn" id="_ZNK3tvm5relay7collage17PartitionRuleNode5ToDocEv" title='tvm::relay::collage::PartitionRuleNode::ToDoc' data-ref="_ZNK3tvm5relay7collage17PartitionRuleNode5ToDocEv" data-ref-filename="_ZNK3tvm5relay7collage17PartitionRuleNode5ToDocEv">ToDoc</dfn>() <em>const</em>;</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td> <b>protected</b>:</td></tr>
<tr><th id="187">187</th><td>  <b>virtual</b> <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage17PartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::PartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage17PartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage17PartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col5 decl" id="455body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="455body_items" data-ref-filename="455body_items">body_items</dfn>) <em>const</em>;</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td> <b>public</b>:</td></tr>
<tr><th id="190">190</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::PartitionRuleNode::_type_key" title='tvm::relay::collage::PartitionRuleNode::_type_key' data-ref="tvm::relay::collage::PartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..PartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.PartitionRule"</q>;</td></tr>
<tr><th id="191">191</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <a class="typedef" href="../../../../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="decl def" id="tvm::relay::collage::PartitionRuleNode::_type_child_slots" title='tvm::relay::collage::PartitionRuleNode::_type_child_slots' data-ref="tvm::relay::collage::PartitionRuleNode::_type_child_slots" data-ref-filename="tvm..relay..collage..PartitionRuleNode.._type_child_slots">_type_child_slots</dfn> = <var>10</var>;</td></tr>
<tr><th id="192">192</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#648" title="static_assert(!Object::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(PartitionRuleNode::_type_child_slots == 0 || Object::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots &lt; Object::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (PartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return PartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( PartitionRuleNode::_type_key, PartitionRuleNode::_type_index, Object::_GetOrAllocRuntimeTypeIndex(), PartitionRuleNode::_type_child_slots, PartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_BASE_OBJECT_INFO">TVM_DECLARE_BASE_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>, <a class="type" href="../../../include/tvm/runtime/object.h.html#tvm::runtime::Object" title='tvm::runtime::Object' data-ref="tvm::runtime::Object" data-ref-filename="tvm..runtime..Object">Object</a>);</td></tr>
<tr><th id="193">193</th><td>};</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</dfn> : <b>public</b> ObjectRef {</td></tr>
<tr><th id="196">196</th><td> <b>public</b>:</td></tr>
<tr><th id="197">197</th><td>  <b>explicit</b> <dfn class="decl fn" id="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime6StringE" title='tvm::relay::collage::PartitionRule::PartitionRule' data-ref="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime6StringE" data-ref-filename="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime6StringE">PartitionRule</dfn>(String <dfn class="local col6 decl" id="456rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="456rule_name" data-ref-filename="456rule_name">rule_name</dfn>);</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="PartitionRule() = default; explicit PartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : ObjectRef(n) {} PartitionRule(const PartitionRule&amp; other) = default; PartitionRule(PartitionRule&amp;&amp; other) = default; PartitionRule&amp; operator=(const PartitionRule&amp; other) = default; PartitionRule&amp; operator=(PartitionRule&amp;&amp; other) = default;; const PartitionRuleNode* operator-&gt;() const { return static_cast&lt;const PartitionRuleNode*&gt;(data_.get()); } const PartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = PartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage13PartitionRuleC1Ev" title='tvm::relay::collage::PartitionRule::PartitionRule' data-ref="_ZN3tvm5relay7collage13PartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage13PartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::PartitionRule::PartitionRule' data-ref="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage13PartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage13PartitionRuleC1ERKS2_" title='tvm::relay::collage::PartitionRule::PartitionRule' data-ref="_ZN3tvm5relay7collage13PartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage13PartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage13PartitionRuleC1EOS2_" title='tvm::relay::collage::PartitionRule::PartitionRule' data-ref="_ZN3tvm5relay7collage13PartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage13PartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule"><a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="../../../include/tvm/runtime/object.h.html#tvm::runtime::ObjectRef" title='tvm::runtime::ObjectRef' data-ref="tvm::runtime::ObjectRef" data-ref-filename="tvm..runtime..ObjectRef">ObjectRef</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="200">200</th><td>};</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="203">203</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which fires on all sub-expressions matching a dataflow-pattern and pattern</i></td></tr>
<tr><th id="204">204</th><td><i class="doc"> * predicate. It is valid for matching candidates to overlap.</i></td></tr>
<tr><th id="205">205</th><td><i class="doc"> */</i></td></tr>
<tr><th id="206">206</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::DFPatternPartitionRuleNode" title='tvm::relay::collage::DFPatternPartitionRuleNode' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode">DFPatternPartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="207">207</th><td> <b>public</b>:</td></tr>
<tr><th id="208">208</th><td>  <i class="doc">/*!</i></td></tr>
<tr><th id="209">209</th><td><i class="doc">   * <span class="command">\brief</span> Relay pattern.</i></td></tr>
<tr><th id="210">210</th><td><i class="doc">   */</i></td></tr>
<tr><th id="211">211</th><td>  <a class="type" href="../../../include/tvm/relay/dataflow_pattern.h.html#tvm::relay::DFPattern" title='tvm::relay::DFPattern' data-ref="tvm::relay::DFPattern" data-ref-filename="tvm..relay..DFPattern">DFPattern</a> <dfn class="decl field" id="tvm::relay::collage::DFPatternPartitionRuleNode::pattern_" title='tvm::relay::collage::DFPatternPartitionRuleNode::pattern_' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode::pattern_" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode..pattern_">pattern_</dfn>;</td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td>  <i class="doc">/*!</i></td></tr>
<tr><th id="214">214</th><td><i class="doc">   * <span class="command">\brief</span> Predicate on matched sub-expression to decide if partition rule should fire.</i></td></tr>
<tr><th id="215">215</th><td><i class="doc">   */</i></td></tr>
<tr><th id="216">216</th><td>  <a class="typedef" href="#tvm::relay::collage::TPatternPredicate" title='tvm::relay::collage::TPatternPredicate' data-type='TypedPackedFunc&lt;bool (const tvm::relay::Expr &amp;)&gt;' data-ref="tvm::relay::collage::TPatternPredicate" data-ref-filename="tvm..relay..collage..TPatternPredicate">TPatternPredicate</a> <dfn class="decl field" id="tvm::relay::collage::DFPatternPartitionRuleNode::predicate_" title='tvm::relay::collage::DFPatternPartitionRuleNode::predicate_' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode::predicate_" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode..predicate_">predicate_</dfn>;</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage26DFPatternPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::DFPatternPartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage26DFPatternPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage26DFPatternPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col7 decl" id="457v" title='v' data-type='tvm::AttrVisitor *' data-ref="457v" data-ref-filename="457v">v</dfn>);</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::DFPatternPartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col8 decl" id="458dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="458dataflow_graph" data-ref-filename="458dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="221">221</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col9 decl" id="459spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="459spec" data-ref-filename="459spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::DFPatternPartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage26DFPatternPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col0 decl" id="460body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="460body_items" data-ref-filename="460body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::DFPatternPartitionRuleNode::_type_key" title='tvm::relay::collage::DFPatternPartitionRuleNode::_type_key' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.DFPatternPartitionRule"</q>;</td></tr>
<tr><th id="226">226</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(DFPatternPartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || DFPatternPartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (DFPatternPartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return DFPatternPartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( DFPatternPartitionRuleNode::_type_key, DFPatternPartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), DFPatternPartitionRuleNode::_type_child_slots, DFPatternPartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::DFPatternPartitionRuleNode" title='tvm::relay::collage::DFPatternPartitionRuleNode' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode">DFPatternPartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="227">227</th><td>};</td></tr>
<tr><th id="228">228</th><td></td></tr>
<tr><th id="229">229</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule">DFPatternPartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="230">230</th><td> <b>public</b>:</td></tr>
<tr><th id="231">231</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime6StringENS0_9DFPatternENS3_15TypedPackedFuncIFbRKNS_9RelayExprEEEE" title='tvm::relay::collage::DFPatternPartitionRule::DFPatternPartitionRule' data-ref="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime6StringENS0_9DFPatternENS3_15TypedPackedFuncIFbRKNS_9RelayExprEEEE" data-ref-filename="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime6StringENS0_9DFPatternENS3_15TypedPackedFuncIFbRKNS_9RelayExprEEEE">DFPatternPartitionRule</dfn>(String <dfn class="local col1 decl" id="461rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="461rule_name" data-ref-filename="461rule_name">rule_name</dfn>, <a class="type" href="../../../include/tvm/relay/dataflow_pattern.h.html#tvm::relay::DFPattern" title='tvm::relay::DFPattern' data-ref="tvm::relay::DFPattern" data-ref-filename="tvm..relay..DFPattern">DFPattern</a> <dfn class="local col2 decl" id="462pattern" title='pattern' data-type='tvm::relay::DFPattern' data-ref="462pattern" data-ref-filename="462pattern">pattern</dfn>,</td></tr>
<tr><th id="232">232</th><td>                         <a class="typedef" href="#tvm::relay::collage::TPatternPredicate" title='tvm::relay::collage::TPatternPredicate' data-type='TypedPackedFunc&lt;bool (const tvm::relay::Expr &amp;)&gt;' data-ref="tvm::relay::collage::TPatternPredicate" data-ref-filename="tvm..relay..collage..TPatternPredicate">TPatternPredicate</a> <dfn class="local col3 decl" id="463predicate" title='predicate' data-type='tvm::relay::collage::TPatternPredicate' data-ref="463predicate" data-ref-filename="463predicate">predicate</dfn> = <a class="ref fn fake" href="../../../include/tvm/runtime/packed_func.h.html#_ZN3tvm7runtime15TypedPackedFuncIFT_DpT0_EEC1ERKTL0__" title='tvm::runtime::TypedPackedFunc&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::TypedPackedFunc&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZN3tvm7runtime15TypedPackedFuncIFT_DpT0_EEC1ERKTL0__" data-ref-filename="_ZN3tvm7runtime15TypedPackedFuncIFT_DpT0_EEC1ERKTL0__"></a><a class="ref fn" href="#_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE" title='tvm::relay::collage::DefaultPatternPredicate' data-ref="_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE" data-ref-filename="_ZN3tvm5relay7collage23DefaultPatternPredicateERKNS_9RelayExprE">DefaultPatternPredicate</a>);</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="DFPatternPartitionRule() = default; explicit DFPatternPartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} DFPatternPartitionRule(const DFPatternPartitionRule&amp; other) = default; DFPatternPartitionRule(DFPatternPartitionRule&amp;&amp; other) = default; DFPatternPartitionRule&amp; operator=(const DFPatternPartitionRule&amp; other) = default; DFPatternPartitionRule&amp; operator=(DFPatternPartitionRule&amp;&amp; other) = default;; const DFPatternPartitionRuleNode* operator-&gt;() const { return static_cast&lt;const DFPatternPartitionRuleNode*&gt;(data_.get()); } const DFPatternPartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = DFPatternPartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1Ev" title='tvm::relay::collage::DFPatternPartitionRule::DFPatternPartitionRule' data-ref="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::DFPatternPartitionRule::DFPatternPartitionRule' data-ref="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ERKS2_" title='tvm::relay::collage::DFPatternPartitionRule::DFPatternPartitionRule' data-ref="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1EOS2_" title='tvm::relay::collage::DFPatternPartitionRule::DFPatternPartitionRule' data-ref="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage22DFPatternPartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule"><a class="type" href="#tvm::relay::collage::DFPatternPartitionRule" title='tvm::relay::collage::DFPatternPartitionRule' data-ref="tvm::relay::collage::DFPatternPartitionRule" data-ref-filename="tvm..relay..collage..DFPatternPartitionRule">DFPatternPartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::DFPatternPartitionRuleNode" title='tvm::relay::collage::DFPatternPartitionRuleNode' data-ref="tvm::relay::collage::DFPatternPartitionRuleNode" data-ref-filename="tvm..relay..collage..DFPatternPartitionRuleNode">DFPatternPartitionRuleNode</a>);</td></tr>
<tr><th id="235">235</th><td>};</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="238">238</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which wraps candidates within a function with the "Composite" attribute</i></td></tr>
<tr><th id="239">239</th><td><i class="doc"> * bound to the given rule name.</i></td></tr>
<tr><th id="240">240</th><td><i class="doc"> *</i></td></tr>
<tr><th id="241">241</th><td><i class="doc"> * This is the standard way by which operators or operator groups are tagged as being supported</i></td></tr>
<tr><th id="242">242</th><td><i class="doc"> * by a particular externally provided function. It is up to the BYOC lowering function to</i></td></tr>
<tr><th id="243">243</th><td><i class="doc"> * recognize the "Composite" name and emit the appropriate code or call.</i></td></tr>
<tr><th id="244">244</th><td><i class="doc"> */</i></td></tr>
<tr><th id="245">245</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::CompositePartitionRuleNode" title='tvm::relay::collage::CompositePartitionRuleNode' data-ref="tvm::relay::collage::CompositePartitionRuleNode" data-ref-filename="tvm..relay..collage..CompositePartitionRuleNode">CompositePartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="246">246</th><td> <b>public</b>:</td></tr>
<tr><th id="247">247</th><td>  <i class="doc">/*! <span class="command">\brief</span> The sub-partition rule. */</i></td></tr>
<tr><th id="248">248</th><td>  <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="decl field" id="tvm::relay::collage::CompositePartitionRuleNode::sub_rule_" title='tvm::relay::collage::CompositePartitionRuleNode::sub_rule_' data-ref="tvm::relay::collage::CompositePartitionRuleNode::sub_rule_" data-ref-filename="tvm..relay..collage..CompositePartitionRuleNode..sub_rule_">sub_rule_</dfn>;</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage26CompositePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::CompositePartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage26CompositePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage26CompositePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col4 decl" id="464v" title='v' data-type='tvm::AttrVisitor *' data-ref="464v" data-ref-filename="464v">v</dfn>);</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26CompositePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::CompositePartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage26CompositePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage26CompositePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col5 decl" id="465dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="465dataflow_graph" data-ref-filename="465dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="253">253</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col6 decl" id="466spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="466spec" data-ref-filename="466spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26CompositePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::CompositePartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage26CompositePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage26CompositePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col7 decl" id="467body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="467body_items" data-ref-filename="467body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::CompositePartitionRuleNode::_type_key" title='tvm::relay::collage::CompositePartitionRuleNode::_type_key' data-ref="tvm::relay::collage::CompositePartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..CompositePartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.CompositePartitionRule"</q>;</td></tr>
<tr><th id="258">258</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(CompositePartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || CompositePartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (CompositePartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return CompositePartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( CompositePartitionRuleNode::_type_key, CompositePartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), CompositePartitionRuleNode::_type_child_slots, CompositePartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::CompositePartitionRuleNode" title='tvm::relay::collage::CompositePartitionRuleNode' data-ref="tvm::relay::collage::CompositePartitionRuleNode" data-ref-filename="tvm..relay..collage..CompositePartitionRuleNode">CompositePartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="259">259</th><td>};</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule">CompositePartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="262">262</th><td> <b>public</b>:</td></tr>
<tr><th id="263">263</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE" title='tvm::relay::collage::CompositePartitionRule::CompositePartitionRule' data-ref="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE" data-ref-filename="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE">CompositePartitionRule</dfn>(String <dfn class="local col8 decl" id="468rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="468rule_name" data-ref-filename="468rule_name">rule_name</dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="local col9 decl" id="469sub_rule" title='sub_rule' data-type='tvm::relay::collage::PartitionRule' data-ref="469sub_rule" data-ref-filename="469sub_rule">sub_rule</dfn>);</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="CompositePartitionRule() = default; explicit CompositePartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} CompositePartitionRule(const CompositePartitionRule&amp; other) = default; CompositePartitionRule(CompositePartitionRule&amp;&amp; other) = default; CompositePartitionRule&amp; operator=(const CompositePartitionRule&amp; other) = default; CompositePartitionRule&amp; operator=(CompositePartitionRule&amp;&amp; other) = default;; const CompositePartitionRuleNode* operator-&gt;() const { return static_cast&lt;const CompositePartitionRuleNode*&gt;(data_.get()); } const CompositePartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = CompositePartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage22CompositePartitionRuleC1Ev" title='tvm::relay::collage::CompositePartitionRule::CompositePartitionRule' data-ref="_ZN3tvm5relay7collage22CompositePartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage22CompositePartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::CompositePartitionRule::CompositePartitionRule' data-ref="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage22CompositePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22CompositePartitionRuleC1ERKS2_" title='tvm::relay::collage::CompositePartitionRule::CompositePartitionRule' data-ref="_ZN3tvm5relay7collage22CompositePartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage22CompositePartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22CompositePartitionRuleC1EOS2_" title='tvm::relay::collage::CompositePartitionRule::CompositePartitionRule' data-ref="_ZN3tvm5relay7collage22CompositePartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage22CompositePartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule"><a class="type" href="#tvm::relay::collage::CompositePartitionRule" title='tvm::relay::collage::CompositePartitionRule' data-ref="tvm::relay::collage::CompositePartitionRule" data-ref-filename="tvm..relay..collage..CompositePartitionRule">CompositePartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::CompositePartitionRuleNode" title='tvm::relay::collage::CompositePartitionRuleNode' data-ref="tvm::relay::collage::CompositePartitionRuleNode" data-ref-filename="tvm..relay..collage..CompositePartitionRuleNode">CompositePartitionRuleNode</a>);</td></tr>
<tr><th id="266">266</th><td>};</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="269">269</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which wraps candidates within a function with the "Primitive" attribute</i></td></tr>
<tr><th id="270">270</th><td><i class="doc"> * bound to 1. If the partition spec target(s) have the "compiler" attribute then that name is</i></td></tr>
<tr><th id="271">271</th><td><i class="doc"> * also added to the function as a "Compiler" attribute.</i></td></tr>
<tr><th id="272">272</th><td><i class="doc"> *</i></td></tr>
<tr><th id="273">273</th><td><i class="doc"> * This is the standard way by which sub-graphs are marked as being in a 'partition' who's</i></td></tr>
<tr><th id="274">274</th><td><i class="doc"> * compilation will be managed by an external BYOC toolchain. It can also be used to mark</i></td></tr>
<tr><th id="275">275</th><td><i class="doc"> * sub-graphs for lowering to a single kernel by the built-in TVM lowering machinery.</i></td></tr>
<tr><th id="276">276</th><td><i class="doc"> */</i></td></tr>
<tr><th id="277">277</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::PrimitivePartitionRuleNode" title='tvm::relay::collage::PrimitivePartitionRuleNode' data-ref="tvm::relay::collage::PrimitivePartitionRuleNode" data-ref-filename="tvm..relay..collage..PrimitivePartitionRuleNode">PrimitivePartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="278">278</th><td> <b>public</b>:</td></tr>
<tr><th id="279">279</th><td>  <i class="doc">/*! <span class="command">\brief</span> The sub-partition rule. */</i></td></tr>
<tr><th id="280">280</th><td>  <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="decl field" id="tvm::relay::collage::PrimitivePartitionRuleNode::sub_rule_" title='tvm::relay::collage::PrimitivePartitionRuleNode::sub_rule_' data-ref="tvm::relay::collage::PrimitivePartitionRuleNode::sub_rule_" data-ref-filename="tvm..relay..collage..PrimitivePartitionRuleNode..sub_rule_">sub_rule_</dfn>;</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage26PrimitivePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::PrimitivePartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage26PrimitivePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage26PrimitivePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col0 decl" id="470v" title='v' data-type='tvm::AttrVisitor *' data-ref="470v" data-ref-filename="470v">v</dfn>);</td></tr>
<tr><th id="283">283</th><td></td></tr>
<tr><th id="284">284</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::PrimitivePartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col1 decl" id="471dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="471dataflow_graph" data-ref-filename="471dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="285">285</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col2 decl" id="472spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="472spec" data-ref-filename="472spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="286">286</th><td></td></tr>
<tr><th id="287">287</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::PrimitivePartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage26PrimitivePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col3 decl" id="473body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="473body_items" data-ref-filename="473body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::PrimitivePartitionRuleNode::_type_key" title='tvm::relay::collage::PrimitivePartitionRuleNode::_type_key' data-ref="tvm::relay::collage::PrimitivePartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..PrimitivePartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.PrimitivePartitionRule"</q>;</td></tr>
<tr><th id="290">290</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(PrimitivePartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || PrimitivePartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (PrimitivePartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return PrimitivePartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( PrimitivePartitionRuleNode::_type_key, PrimitivePartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), PrimitivePartitionRuleNode::_type_child_slots, PrimitivePartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::PrimitivePartitionRuleNode" title='tvm::relay::collage::PrimitivePartitionRuleNode' data-ref="tvm::relay::collage::PrimitivePartitionRuleNode" data-ref-filename="tvm..relay..collage..PrimitivePartitionRuleNode">PrimitivePartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="291">291</th><td>};</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule">PrimitivePartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="294">294</th><td> <b>public</b>:</td></tr>
<tr><th id="295">295</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE" title='tvm::relay::collage::PrimitivePartitionRule::PrimitivePartitionRule' data-ref="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE" data-ref-filename="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleE">PrimitivePartitionRule</dfn>(String <dfn class="local col4 decl" id="474rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="474rule_name" data-ref-filename="474rule_name">rule_name</dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="local col5 decl" id="475sub_rule" title='sub_rule' data-type='tvm::relay::collage::PartitionRule' data-ref="475sub_rule" data-ref-filename="475sub_rule">sub_rule</dfn>);</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="PrimitivePartitionRule() = default; explicit PrimitivePartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} PrimitivePartitionRule(const PrimitivePartitionRule&amp; other) = default; PrimitivePartitionRule(PrimitivePartitionRule&amp;&amp; other) = default; PrimitivePartitionRule&amp; operator=(const PrimitivePartitionRule&amp; other) = default; PrimitivePartitionRule&amp; operator=(PrimitivePartitionRule&amp;&amp; other) = default;; const PrimitivePartitionRuleNode* operator-&gt;() const { return static_cast&lt;const PrimitivePartitionRuleNode*&gt;(data_.get()); } const PrimitivePartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = PrimitivePartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1Ev" title='tvm::relay::collage::PrimitivePartitionRule::PrimitivePartitionRule' data-ref="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::PrimitivePartitionRule::PrimitivePartitionRule' data-ref="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ERKS2_" title='tvm::relay::collage::PrimitivePartitionRule::PrimitivePartitionRule' data-ref="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1EOS2_" title='tvm::relay::collage::PrimitivePartitionRule::PrimitivePartitionRule' data-ref="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage22PrimitivePartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule"><a class="type" href="#tvm::relay::collage::PrimitivePartitionRule" title='tvm::relay::collage::PrimitivePartitionRule' data-ref="tvm::relay::collage::PrimitivePartitionRule" data-ref-filename="tvm..relay..collage..PrimitivePartitionRule">PrimitivePartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::PrimitivePartitionRuleNode" title='tvm::relay::collage::PrimitivePartitionRuleNode' data-ref="tvm::relay::collage::PrimitivePartitionRuleNode" data-ref-filename="tvm..relay..collage..PrimitivePartitionRuleNode">PrimitivePartitionRuleNode</a>);</td></tr>
<tr><th id="298">298</th><td>};</td></tr>
<tr><th id="299">299</th><td></td></tr>
<tr><th id="300">300</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="301">301</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which simply unions all matches from all sub-partition rules.</i></td></tr>
<tr><th id="302">302</th><td><i class="doc"> *</i></td></tr>
<tr><th id="303">303</th><td><i class="doc"> * This can be used to combine the results of a set of, eg, DFPatternPartitionRules.</i></td></tr>
<tr><th id="304">304</th><td><i class="doc"> */</i></td></tr>
<tr><th id="305">305</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::UnionPartitionRuleNode" title='tvm::relay::collage::UnionPartitionRuleNode' data-ref="tvm::relay::collage::UnionPartitionRuleNode" data-ref-filename="tvm..relay..collage..UnionPartitionRuleNode">UnionPartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="306">306</th><td> <b>public</b>:</td></tr>
<tr><th id="307">307</th><td>  <a class="type" href="../../../include/tvm/runtime/container/array.h.html#tvm::runtime::Array" title='tvm::runtime::Array' data-ref="tvm::runtime::Array" data-ref-filename="tvm..runtime..Array">Array</a>&lt;<a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>&gt; <dfn class="decl field" id="tvm::relay::collage::UnionPartitionRuleNode::sub_rules_" title='tvm::relay::collage::UnionPartitionRuleNode::sub_rules_' data-ref="tvm::relay::collage::UnionPartitionRuleNode::sub_rules_" data-ref-filename="tvm..relay..collage..UnionPartitionRuleNode..sub_rules_">sub_rules_</dfn>;</td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage22UnionPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::UnionPartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage22UnionPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage22UnionPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col6 decl" id="476v" title='v' data-type='tvm::AttrVisitor *' data-ref="476v" data-ref-filename="476v">v</dfn>);</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage22UnionPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::UnionPartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage22UnionPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage22UnionPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col7 decl" id="477dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="477dataflow_graph" data-ref-filename="477dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="312">312</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col8 decl" id="478spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="478spec" data-ref-filename="478spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage22UnionPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::UnionPartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage22UnionPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage22UnionPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col9 decl" id="479body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="479body_items" data-ref-filename="479body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::UnionPartitionRuleNode::_type_key" title='tvm::relay::collage::UnionPartitionRuleNode::_type_key' data-ref="tvm::relay::collage::UnionPartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..UnionPartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.UnionPartitionRule"</q>;</td></tr>
<tr><th id="317">317</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(UnionPartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || UnionPartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (UnionPartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return UnionPartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( UnionPartitionRuleNode::_type_key, UnionPartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), UnionPartitionRuleNode::_type_child_slots, UnionPartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::UnionPartitionRuleNode" title='tvm::relay::collage::UnionPartitionRuleNode' data-ref="tvm::relay::collage::UnionPartitionRuleNode" data-ref-filename="tvm..relay..collage..UnionPartitionRuleNode">UnionPartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="318">318</th><td>};</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule">UnionPartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="321">321</th><td> <b>public</b>:</td></tr>
<tr><th id="322">322</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime6StringENS3_5ArrayINS1_13PartitionRuleEvEE" title='tvm::relay::collage::UnionPartitionRule::UnionPartitionRule' data-ref="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime6StringENS3_5ArrayINS1_13PartitionRuleEvEE" data-ref-filename="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime6StringENS3_5ArrayINS1_13PartitionRuleEvEE">UnionPartitionRule</dfn>(String <dfn class="local col0 decl" id="480rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="480rule_name" data-ref-filename="480rule_name">rule_name</dfn>, <a class="type" href="../../../include/tvm/runtime/container/array.h.html#tvm::runtime::Array" title='tvm::runtime::Array' data-ref="tvm::runtime::Array" data-ref-filename="tvm..runtime..Array">Array</a>&lt;<a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>&gt; <dfn class="local col1 decl" id="481sub_rules" title='sub_rules' data-type='Array&lt;tvm::relay::collage::PartitionRule&gt;' data-ref="481sub_rules" data-ref-filename="481sub_rules">sub_rules</dfn>);</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="UnionPartitionRule() = default; explicit UnionPartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} UnionPartitionRule(const UnionPartitionRule&amp; other) = default; UnionPartitionRule(UnionPartitionRule&amp;&amp; other) = default; UnionPartitionRule&amp; operator=(const UnionPartitionRule&amp; other) = default; UnionPartitionRule&amp; operator=(UnionPartitionRule&amp;&amp; other) = default;; const UnionPartitionRuleNode* operator-&gt;() const { return static_cast&lt;const UnionPartitionRuleNode*&gt;(data_.get()); } const UnionPartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = UnionPartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage18UnionPartitionRuleC1Ev" title='tvm::relay::collage::UnionPartitionRule::UnionPartitionRule' data-ref="_ZN3tvm5relay7collage18UnionPartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage18UnionPartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::UnionPartitionRule::UnionPartitionRule' data-ref="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage18UnionPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage18UnionPartitionRuleC1ERKS2_" title='tvm::relay::collage::UnionPartitionRule::UnionPartitionRule' data-ref="_ZN3tvm5relay7collage18UnionPartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage18UnionPartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage18UnionPartitionRuleC1EOS2_" title='tvm::relay::collage::UnionPartitionRule::UnionPartitionRule' data-ref="_ZN3tvm5relay7collage18UnionPartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage18UnionPartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule"><a class="type" href="#tvm::relay::collage::UnionPartitionRule" title='tvm::relay::collage::UnionPartitionRule' data-ref="tvm::relay::collage::UnionPartitionRule" data-ref-filename="tvm..relay..collage..UnionPartitionRule">UnionPartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::UnionPartitionRuleNode" title='tvm::relay::collage::UnionPartitionRuleNode' data-ref="tvm::relay::collage::UnionPartitionRuleNode" data-ref-filename="tvm..relay..collage..UnionPartitionRuleNode">UnionPartitionRuleNode</a>)</td></tr>
<tr><th id="325">325</th><td>};</td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td><i>/*</i></td></tr>
<tr><th id="328">328</th><td><i> *! \brief Partition rule which places calls to Relay operators with a "TOpPattern" attribute of</i></td></tr>
<tr><th id="329">329</th><td><i> * \p kOutEWiseFusable or less in their own singleton sub-graph. No other Relay sub-expressions</i></td></tr>
<tr><th id="330">330</th><td><i> * (such as tuples or tuple projection) are selected, and it is up to outer partition rules to</i></td></tr>
<tr><th id="331">331</th><td><i> * account for them.</i></td></tr>
<tr><th id="332">332</th><td><i> */</i></td></tr>
<tr><th id="333">333</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::OpCallByKindPartitionRuleNode" title='tvm::relay::collage::OpCallByKindPartitionRuleNode' data-ref="tvm::relay::collage::OpCallByKindPartitionRuleNode" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRuleNode">OpCallByKindPartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="334">334</th><td> <b>public</b>:</td></tr>
<tr><th id="335">335</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage29OpCallByKindPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::OpCallByKindPartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage29OpCallByKindPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage29OpCallByKindPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col2 decl" id="482v" title='v' data-type='tvm::AttrVisitor *' data-ref="482v" data-ref-filename="482v">v</dfn>);</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::OpCallByKindPartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col3 decl" id="483dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="483dataflow_graph" data-ref-filename="483dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="338">338</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col4 decl" id="484spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="484spec" data-ref-filename="484spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::OpCallByKindPartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage29OpCallByKindPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col5 decl" id="485body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="485body_items" data-ref-filename="485body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::OpCallByKindPartitionRuleNode::_type_key" title='tvm::relay::collage::OpCallByKindPartitionRuleNode::_type_key' data-ref="tvm::relay::collage::OpCallByKindPartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.OpCallByKindPartitionRule"</q>;</td></tr>
<tr><th id="343">343</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(OpCallByKindPartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || OpCallByKindPartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (OpCallByKindPartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return OpCallByKindPartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( OpCallByKindPartitionRuleNode::_type_key, OpCallByKindPartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), OpCallByKindPartitionRuleNode::_type_child_slots, OpCallByKindPartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRuleNode" title='tvm::relay::collage::OpCallByKindPartitionRuleNode' data-ref="tvm::relay::collage::OpCallByKindPartitionRuleNode" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRuleNode">OpCallByKindPartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="344">344</th><td>};</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule">OpCallByKindPartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="347">347</th><td> <b>public</b>:</td></tr>
<tr><th id="348">348</th><td>  <b>explicit</b> <dfn class="decl fn" id="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime6StringE" title='tvm::relay::collage::OpCallByKindPartitionRule::OpCallByKindPartitionRule' data-ref="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime6StringE" data-ref-filename="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime6StringE">OpCallByKindPartitionRule</dfn>(String <dfn class="local col6 decl" id="486rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="486rule_name" data-ref-filename="486rule_name">rule_name</dfn>);</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="OpCallByKindPartitionRule() = default; explicit OpCallByKindPartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} OpCallByKindPartitionRule(const OpCallByKindPartitionRule&amp; other) = default; OpCallByKindPartitionRule(OpCallByKindPartitionRule&amp;&amp; other) = default; OpCallByKindPartitionRule&amp; operator=(const OpCallByKindPartitionRule&amp; other) = default; OpCallByKindPartitionRule&amp; operator=(OpCallByKindPartitionRule&amp;&amp; other) = default;; const OpCallByKindPartitionRuleNode* operator-&gt;() const { return static_cast&lt;const OpCallByKindPartitionRuleNode*&gt;(data_.get()); } const OpCallByKindPartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = OpCallByKindPartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1Ev" title='tvm::relay::collage::OpCallByKindPartitionRule::OpCallByKindPartitionRule' data-ref="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::OpCallByKindPartitionRule::OpCallByKindPartitionRule' data-ref="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ERKS2_" title='tvm::relay::collage::OpCallByKindPartitionRule::OpCallByKindPartitionRule' data-ref="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1EOS2_" title='tvm::relay::collage::OpCallByKindPartitionRule::OpCallByKindPartitionRule' data-ref="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage25OpCallByKindPartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule"><a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRule" title='tvm::relay::collage::OpCallByKindPartitionRule' data-ref="tvm::relay::collage::OpCallByKindPartitionRule" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRule">OpCallByKindPartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>,</td></tr>
<tr><th id="351">351</th><td>                                <a class="type" href="#tvm::relay::collage::OpCallByKindPartitionRuleNode" title='tvm::relay::collage::OpCallByKindPartitionRuleNode' data-ref="tvm::relay::collage::OpCallByKindPartitionRuleNode" data-ref-filename="tvm..relay..collage..OpCallByKindPartitionRuleNode">OpCallByKindPartitionRuleNode</a>);</td></tr>
<tr><th id="352">352</th><td>};</td></tr>
<tr><th id="353">353</th><td></td></tr>
<tr><th id="354">354</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="355">355</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which combines sub-graphs to exploit optimizations commonly available in</i></td></tr>
<tr><th id="356">356</th><td><i class="doc"> * backends (including the TVM lowering backend). Those optimization rules are in turn described by</i></td></tr>
<tr><th id="357">357</th><td><i class="doc"> * one or more primitive<span class="command"> \p</span> <span class="arg">CombinerRules.</span></i></td></tr>
<tr><th id="358">358</th><td><i class="doc"> *</i></td></tr>
<tr><th id="359">359</th><td><i class="doc"> * For TVM these primitive combiner rules are guided by the<span class="command"> \p</span> <span class="arg">OpPatternKind</span> associated with every</i></td></tr>
<tr><th id="360">360</th><td><i class="doc"> * sub-graph. That in turn is the maximum of the kind of each expression node in the sub-graph,</i></td></tr>
<tr><th id="361">361</th><td><i class="doc"> * using the rules:</i></td></tr>
<tr><th id="362">362</th><td><i class="doc"> *  - Constants are<span class="command"> \p</span> <span class="arg">kElemwise.</span></i></td></tr>
<tr><th id="363">363</th><td><i class="doc"> *  - A call to a Relay operator has the kind of its callee.</i></td></tr>
<tr><th id="364">364</th><td><i class="doc"> *  - Tuple construction and projection are injective provided all tuple fields are of tensor type.</i></td></tr>
<tr><th id="365">365</th><td><i class="doc"> *  - All other sub-expressions are opaque.</i></td></tr>
<tr><th id="366">366</th><td><i class="doc"> *</i></td></tr>
<tr><th id="367">367</th><td><i class="doc"> * The available<span class="command"> \p</span> <span class="arg">OpPatternKinds</span> (and our abbreviations for them) are:</i></td></tr>
<tr><th id="368">368</th><td><i class="doc"> *  - E: kElemWise, eg nn.relu</i></td></tr>
<tr><th id="369">369</th><td><i class="doc"> *  - B: kBroadcast, eg add</i></td></tr>
<tr><th id="370">370</th><td><i class="doc"> *  - I: kInjective, eg concatenate</i></td></tr>
<tr><th id="371">371</th><td><i class="doc"> *  - R: kCommReduce, eg sum</i></td></tr>
<tr><th id="372">372</th><td><i class="doc"> *  - A: kOutEWiseFusable, eg nn.conv2d (often called 'anchor nodes', hence the A abbreviation)</i></td></tr>
<tr><th id="373">373</th><td><i class="doc"> *  - O: kOpaque, everything else</i></td></tr>
<tr><th id="374">374</th><td><i class="doc"> * (The kTuple kind is not used by this machinery.)</i></td></tr>
<tr><th id="375">375</th><td><i class="doc"> *</i></td></tr>
<tr><th id="376">376</th><td><i class="doc"> * Kinds are ordered as above from least- to most-constraining w.r.t. possible partition</i></td></tr>
<tr><th id="377">377</th><td><i class="doc"> * opportunities. When we write a kind abbreviation below we intend it to mean that kind *or less*.</i></td></tr>
<tr><th id="378">378</th><td><i class="doc"> * And when when write 'kl -&gt; kr' we mean it to match a sub-expression of kind kr or less who's</i></td></tr>
<tr><th id="379">379</th><td><i class="doc"> * dataflow inputs are all of kind kl or less.</i></td></tr>
<tr><th id="380">380</th><td><i class="doc"> *</i></td></tr>
<tr><th id="381">381</th><td><i class="doc"> * We can then mimic the classic<span class="command"> \p</span> <span class="arg">FuseOps</span> TVM Pass with the following more primitive combiner</i></td></tr>
<tr><th id="382">382</th><td><i class="doc"> * rules:</i></td></tr>
<tr><th id="383">383</th><td><i class="doc"> *  - Sub-groups cannot have taps. In the classic<span class="command"> \p</span> <span class="arg">FuseOps</span> pass taps are avoided by construction</i></td></tr>
<tr><th id="384">384</th><td><i class="doc"> *    by always considering all node-&gt;dominator paths. Here we naively allow taps on all candidates,</i></td></tr>
<tr><th id="385">385</th><td><i class="doc"> *    but reject them using SubGraph::IsValid with a SubGraphConfig with allow_taps = false.</i></td></tr>
<tr><th id="386">386</th><td><i class="doc"> *  - Combine A -&gt; B</i></td></tr>
<tr><th id="387">387</th><td><i class="doc"> *  - Combine B -&gt; R</i></td></tr>
<tr><th id="388">388</th><td><i class="doc"> *  - Combine I -&gt; I</i></td></tr>
<tr><th id="389">389</th><td><i class="doc"> *  - Combine I -&gt; tuple -&gt; I. That is, if an I sub-graph has a tuple as input, and at least one</i></td></tr>
<tr><th id="390">390</th><td><i class="doc"> *    tuple field can be provided by an I sub-graph exit, then both the tuple and all such fields</i></td></tr>
<tr><th id="391">391</th><td><i class="doc"> *    may be joined.</i></td></tr>
<tr><th id="392">392</th><td><i class="doc"> gt*</i></td></tr>
<tr><th id="393">393</th><td><i class="doc"> * Note that<span class="command"> \p</span> <span class="arg">FuseOps</span> only considers the largest possible sub-graphs. However this partition rule</i></td></tr>
<tr><th id="394">394</th><td><i class="doc"> * considers all possibilities so as to 'make room' for other targets supplying other</i></td></tr>
<tr><th id="395">395</th><td><i class="doc"> * overlapping candidates.</i></td></tr>
<tr><th id="396">396</th><td><i class="doc"> *</i></td></tr>
<tr><th id="397">397</th><td><i class="doc"> * See combiner_rule.h for the more primitive combiner rules which implement the above.</i></td></tr>
<tr><th id="398">398</th><td><i class="doc"> */</i></td></tr>
<tr><th id="399">399</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::CombinePartitionRuleNode" title='tvm::relay::collage::CombinePartitionRuleNode' data-ref="tvm::relay::collage::CombinePartitionRuleNode" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode">CombinePartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="400">400</th><td> <b>public</b>:</td></tr>
<tr><th id="401">401</th><td>  <i class="doc">/*! <span class="command">\brief</span> The sub-rule supplying the initial set of candidates. */</i></td></tr>
<tr><th id="402">402</th><td>  <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="decl field" id="tvm::relay::collage::CombinePartitionRuleNode::sub_rule_" title='tvm::relay::collage::CombinePartitionRuleNode::sub_rule_' data-ref="tvm::relay::collage::CombinePartitionRuleNode::sub_rule_" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode..sub_rule_">sub_rule_</dfn>;</td></tr>
<tr><th id="403">403</th><td>  <i class="doc">/*! <span class="command">\brief</span> The more primitive rules to use to combine the candidates found by the above rule. */</i></td></tr>
<tr><th id="404">404</th><td>  <a class="type" href="../../../include/tvm/runtime/container/array.h.html#tvm::runtime::Array" title='tvm::runtime::Array' data-ref="tvm::runtime::Array" data-ref-filename="tvm..runtime..Array">Array</a>&lt;<a class="type" href="combiner_rule.h.html#tvm::relay::collage::CombinerRule" title='tvm::relay::collage::CombinerRule' data-ref="tvm::relay::collage::CombinerRule" data-ref-filename="tvm..relay..collage..CombinerRule">CombinerRule</a>&gt; <dfn class="decl field" id="tvm::relay::collage::CombinePartitionRuleNode::combiner_rules_" title='tvm::relay::collage::CombinePartitionRuleNode::combiner_rules_' data-ref="tvm::relay::collage::CombinePartitionRuleNode::combiner_rules_" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode..combiner_rules_">combiner_rules_</dfn>;</td></tr>
<tr><th id="405">405</th><td>  <i class="doc">/*! <span class="command">\brief</span> Maximum max_depth for candidates. */</i></td></tr>
<tr><th id="406">406</th><td>  <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="decl field" id="tvm::relay::collage::CombinePartitionRuleNode::max_depth_" title='tvm::relay::collage::CombinePartitionRuleNode::max_depth_' data-ref="tvm::relay::collage::CombinePartitionRuleNode::max_depth_" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode..max_depth_">max_depth_</dfn>;</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage24CombinePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::CombinePartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage24CombinePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage24CombinePartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col7 decl" id="487v" title='v' data-type='tvm::AttrVisitor *' data-ref="487v" data-ref-filename="487v">v</dfn>);</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage24CombinePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::CombinePartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage24CombinePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage24CombinePartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col8 decl" id="488dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="488dataflow_graph" data-ref-filename="488dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="411">411</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col9 decl" id="489spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="489spec" data-ref-filename="489spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage24CombinePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::CombinePartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage24CombinePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage24CombinePartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col0 decl" id="490body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="490body_items" data-ref-filename="490body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td> <b>public</b>:</td></tr>
<tr><th id="416">416</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::CombinePartitionRuleNode::_type_key" title='tvm::relay::collage::CombinePartitionRuleNode::_type_key' data-ref="tvm::relay::collage::CombinePartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.CombinePartitionRule"</q>;</td></tr>
<tr><th id="417">417</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(CombinePartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || CombinePartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (CombinePartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return CombinePartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( CombinePartitionRuleNode::_type_key, CombinePartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), CombinePartitionRuleNode::_type_child_slots, CombinePartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::CombinePartitionRuleNode" title='tvm::relay::collage::CombinePartitionRuleNode' data-ref="tvm::relay::collage::CombinePartitionRuleNode" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode">CombinePartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="418">418</th><td>};</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule">CombinePartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="421">421</th><td> <b>public</b>:</td></tr>
<tr><th id="422">422</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleENS3_5ArrayINS1_12CombinerRuleEvEEm" title='tvm::relay::collage::CombinePartitionRule::CombinePartitionRule' data-ref="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleENS3_5ArrayINS1_12CombinerRuleEvEEm" data-ref-filename="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleENS3_5ArrayINS1_12CombinerRuleEvEEm">CombinePartitionRule</dfn>(String <dfn class="local col1 decl" id="491rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="491rule_name" data-ref-filename="491rule_name">rule_name</dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="local col2 decl" id="492sub_rule" title='sub_rule' data-type='tvm::relay::collage::PartitionRule' data-ref="492sub_rule" data-ref-filename="492sub_rule">sub_rule</dfn>, <a class="type" href="../../../include/tvm/runtime/container/array.h.html#tvm::runtime::Array" title='tvm::runtime::Array' data-ref="tvm::runtime::Array" data-ref-filename="tvm..runtime..Array">Array</a>&lt;<a class="type" href="combiner_rule.h.html#tvm::relay::collage::CombinerRule" title='tvm::relay::collage::CombinerRule' data-ref="tvm::relay::collage::CombinerRule" data-ref-filename="tvm..relay..collage..CombinerRule">CombinerRule</a>&gt; <dfn class="local col3 decl" id="493combiner_rules" title='combiner_rules' data-type='Array&lt;tvm::relay::collage::CombinerRule&gt;' data-ref="493combiner_rules" data-ref-filename="493combiner_rules">combiner_rules</dfn>,</td></tr>
<tr><th id="423">423</th><td>                       <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="494max_depth_" title='max_depth_' data-type='size_t' data-ref="494max_depth_" data-ref-filename="494max_depth_">max_depth_</dfn>);</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="CombinePartitionRule() = default; explicit CombinePartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} CombinePartitionRule(const CombinePartitionRule&amp; other) = default; CombinePartitionRule(CombinePartitionRule&amp;&amp; other) = default; CombinePartitionRule&amp; operator=(const CombinePartitionRule&amp; other) = default; CombinePartitionRule&amp; operator=(CombinePartitionRule&amp;&amp; other) = default;; const CombinePartitionRuleNode* operator-&gt;() const { return static_cast&lt;const CombinePartitionRuleNode*&gt;(data_.get()); } const CombinePartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = CombinePartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage20CombinePartitionRuleC1Ev" title='tvm::relay::collage::CombinePartitionRule::CombinePartitionRule' data-ref="_ZN3tvm5relay7collage20CombinePartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage20CombinePartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::CombinePartitionRule::CombinePartitionRule' data-ref="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage20CombinePartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage20CombinePartitionRuleC1ERKS2_" title='tvm::relay::collage::CombinePartitionRule::CombinePartitionRule' data-ref="_ZN3tvm5relay7collage20CombinePartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage20CombinePartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage20CombinePartitionRuleC1EOS2_" title='tvm::relay::collage::CombinePartitionRule::CombinePartitionRule' data-ref="_ZN3tvm5relay7collage20CombinePartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage20CombinePartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule"><a class="type" href="#tvm::relay::collage::CombinePartitionRule" title='tvm::relay::collage::CombinePartitionRule' data-ref="tvm::relay::collage::CombinePartitionRule" data-ref-filename="tvm..relay..collage..CombinePartitionRule">CombinePartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::CombinePartitionRuleNode" title='tvm::relay::collage::CombinePartitionRuleNode' data-ref="tvm::relay::collage::CombinePartitionRuleNode" data-ref-filename="tvm..relay..collage..CombinePartitionRuleNode">CombinePartitionRuleNode</a>);</td></tr>
<tr><th id="426">426</th><td>};</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="429">429</th><td><i class="doc"> * <span class="command">\brief</span> Partition rules which keeps only candidates from the sub-rule whose sub-groups are valid</i></td></tr>
<tr><th id="430">430</th><td><i class="doc"> * w.r.t. the given<span class="command"> \p</span> <span class="arg">SubGraphConfig.</span></i></td></tr>
<tr><th id="431">431</th><td><i class="doc"> */</i></td></tr>
<tr><th id="432">432</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::OnlyValidPartitionRuleNode" title='tvm::relay::collage::OnlyValidPartitionRuleNode' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode">OnlyValidPartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="433">433</th><td> <b>public</b>:</td></tr>
<tr><th id="434">434</th><td>  <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="decl field" id="tvm::relay::collage::OnlyValidPartitionRuleNode::sub_rule_" title='tvm::relay::collage::OnlyValidPartitionRuleNode::sub_rule_' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode::sub_rule_" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode..sub_rule_">sub_rule_</dfn>;</td></tr>
<tr><th id="435">435</th><td>  <a class="type" href="sub_graph.h.html#tvm::relay::collage::SubGraphConfig" title='tvm::relay::collage::SubGraphConfig' data-ref="tvm::relay::collage::SubGraphConfig" data-ref-filename="tvm..relay..collage..SubGraphConfig">SubGraphConfig</a> <dfn class="decl field" id="tvm::relay::collage::OnlyValidPartitionRuleNode::config_" title='tvm::relay::collage::OnlyValidPartitionRuleNode::config_' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode::config_" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode..config_">config_</dfn>;</td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage26OnlyValidPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::OnlyValidPartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage26OnlyValidPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage26OnlyValidPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col5 decl" id="495v" title='v' data-type='tvm::AttrVisitor *' data-ref="495v" data-ref-filename="495v">v</dfn>);</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::OnlyValidPartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col6 decl" id="496dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="496dataflow_graph" data-ref-filename="496dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="440">440</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col7 decl" id="497spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="497spec" data-ref-filename="497spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="441">441</th><td></td></tr>
<tr><th id="442">442</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::OnlyValidPartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage26OnlyValidPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col8 decl" id="498body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="498body_items" data-ref-filename="498body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="443">443</th><td></td></tr>
<tr><th id="444">444</th><td> <b>public</b>:</td></tr>
<tr><th id="445">445</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::OnlyValidPartitionRuleNode::_type_key" title='tvm::relay::collage::OnlyValidPartitionRuleNode::_type_key' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.OnlyValidPartitionRule"</q>;</td></tr>
<tr><th id="446">446</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(OnlyValidPartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || OnlyValidPartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (OnlyValidPartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return OnlyValidPartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( OnlyValidPartitionRuleNode::_type_key, OnlyValidPartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), OnlyValidPartitionRuleNode::_type_child_slots, OnlyValidPartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRuleNode" title='tvm::relay::collage::OnlyValidPartitionRuleNode' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode">OnlyValidPartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="447">447</th><td>};</td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule">OnlyValidPartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="450">450</th><td> <b>public</b>:</td></tr>
<tr><th id="451">451</th><td>  <dfn class="decl fn" id="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleERKNS1_14SubGraphConfigE" title='tvm::relay::collage::OnlyValidPartitionRule::OnlyValidPartitionRule' data-ref="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleERKNS1_14SubGraphConfigE" data-ref-filename="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime6StringENS1_13PartitionRuleERKNS1_14SubGraphConfigE">OnlyValidPartitionRule</dfn>(String <dfn class="local col9 decl" id="499rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="499rule_name" data-ref-filename="499rule_name">rule_name</dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> <dfn class="local col0 decl" id="500sub_rule" title='sub_rule' data-type='tvm::relay::collage::PartitionRule' data-ref="500sub_rule" data-ref-filename="500sub_rule">sub_rule</dfn>, <em>const</em> <a class="type" href="sub_graph.h.html#tvm::relay::collage::SubGraphConfig" title='tvm::relay::collage::SubGraphConfig' data-ref="tvm::relay::collage::SubGraphConfig" data-ref-filename="tvm..relay..collage..SubGraphConfig">SubGraphConfig</a>&amp; <dfn class="local col1 decl" id="501config" title='config' data-type='const tvm::relay::collage::SubGraphConfig &amp;' data-ref="501config" data-ref-filename="501config">config</dfn>);</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="OnlyValidPartitionRule() = default; explicit OnlyValidPartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} OnlyValidPartitionRule(const OnlyValidPartitionRule&amp; other) = default; OnlyValidPartitionRule(OnlyValidPartitionRule&amp;&amp; other) = default; OnlyValidPartitionRule&amp; operator=(const OnlyValidPartitionRule&amp; other) = default; OnlyValidPartitionRule&amp; operator=(OnlyValidPartitionRule&amp;&amp; other) = default;; const OnlyValidPartitionRuleNode* operator-&gt;() const { return static_cast&lt;const OnlyValidPartitionRuleNode*&gt;(data_.get()); } const OnlyValidPartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = OnlyValidPartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1Ev" title='tvm::relay::collage::OnlyValidPartitionRule::OnlyValidPartitionRule' data-ref="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::OnlyValidPartitionRule::OnlyValidPartitionRule' data-ref="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ERKS2_" title='tvm::relay::collage::OnlyValidPartitionRule::OnlyValidPartitionRule' data-ref="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1EOS2_" title='tvm::relay::collage::OnlyValidPartitionRule::OnlyValidPartitionRule' data-ref="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage22OnlyValidPartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule"><a class="type" href="#tvm::relay::collage::OnlyValidPartitionRule" title='tvm::relay::collage::OnlyValidPartitionRule' data-ref="tvm::relay::collage::OnlyValidPartitionRule" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRule">OnlyValidPartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::OnlyValidPartitionRuleNode" title='tvm::relay::collage::OnlyValidPartitionRuleNode' data-ref="tvm::relay::collage::OnlyValidPartitionRuleNode" data-ref-filename="tvm..relay..collage..OnlyValidPartitionRuleNode">OnlyValidPartitionRuleNode</a>);</td></tr>
<tr><th id="454">454</th><td>};</td></tr>
<tr><th id="455">455</th><td></td></tr>
<tr><th id="456">456</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="457">457</th><td><i class="doc"> * <span class="command">\brief</span> Partition rule which selects nodes which can be 'left behind' to be executed by the host</i></td></tr>
<tr><th id="458">458</th><td><i class="doc"> * (eg on the VM). This includes most of the 'interstitial' Relay constructs, such a let bindings,</i></td></tr>
<tr><th id="459">459</th><td><i class="doc"> * operators on references, calls to non-operator functions, and so on. It can also include the</i></td></tr>
<tr><th id="460">460</th><td><i class="doc"> * construction of and projection from tuples which may not be supported within a partition.</i></td></tr>
<tr><th id="461">461</th><td><i class="doc"> */</i></td></tr>
<tr><th id="462">462</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::HostPartitionRuleNode" title='tvm::relay::collage::HostPartitionRuleNode' data-ref="tvm::relay::collage::HostPartitionRuleNode" data-ref-filename="tvm..relay..collage..HostPartitionRuleNode">HostPartitionRuleNode</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a> {</td></tr>
<tr><th id="463">463</th><td> <b>public</b>:</td></tr>
<tr><th id="464">464</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN3tvm5relay7collage21HostPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" title='tvm::relay::collage::HostPartitionRuleNode::VisitAttrs' data-ref="_ZN3tvm5relay7collage21HostPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE" data-ref-filename="_ZN3tvm5relay7collage21HostPartitionRuleNode10VisitAttrsEPNS_11AttrVisitorE">VisitAttrs</dfn>(<a class="type" href="../../../include/tvm/node/reflection.h.html#tvm::AttrVisitor" title='tvm::AttrVisitor' data-ref="tvm::AttrVisitor" data-ref-filename="tvm..AttrVisitor">AttrVisitor</a>* <dfn class="local col2 decl" id="502v" title='v' data-type='tvm::AttrVisitor *' data-ref="502v" data-ref-filename="502v">v</dfn>);</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="candidate_partition.h.html#tvm::relay::collage::CandidatePartition" title='tvm::relay::collage::CandidatePartition' data-ref="tvm::relay::collage::CandidatePartition" data-ref-filename="tvm..relay..collage..CandidatePartition">CandidatePartition</a>&gt; <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage21HostPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" title='tvm::relay::collage::HostPartitionRuleNode::AllCandidates' data-ref="_ZNK3tvm5relay7collage21HostPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE" data-ref-filename="_ZNK3tvm5relay7collage21HostPartitionRuleNode13AllCandidatesERKNS1_13DataflowGraphERKNS1_13PartitionSpecE">AllCandidates</dfn>(<em>const</em> <a class="type" href="dataflow_graph.h.html#tvm::relay::collage::DataflowGraph" title='tvm::relay::collage::DataflowGraph' data-ref="tvm::relay::collage::DataflowGraph" data-ref-filename="tvm..relay..collage..DataflowGraph">DataflowGraph</a>&amp; <dfn class="local col3 decl" id="503dataflow_graph" title='dataflow_graph' data-type='const tvm::relay::collage::DataflowGraph &amp;' data-ref="503dataflow_graph" data-ref-filename="503dataflow_graph">dataflow_graph</dfn>,</td></tr>
<tr><th id="467">467</th><td>                                                <em>const</em> <a class="type" href="partition_spec.h.html#tvm::relay::collage::PartitionSpec" title='tvm::relay::collage::PartitionSpec' data-ref="tvm::relay::collage::PartitionSpec" data-ref-filename="tvm..relay..collage..PartitionSpec">PartitionSpec</a>&amp; <dfn class="local col4 decl" id="504spec" title='spec' data-type='const tvm::relay::collage::PartitionSpec &amp;' data-ref="504spec" data-ref-filename="504spec">spec</dfn>) <em>const</em> override;</td></tr>
<tr><th id="468">468</th><td></td></tr>
<tr><th id="469">469</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZNK3tvm5relay7collage21HostPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" title='tvm::relay::collage::HostPartitionRuleNode::AppendBodyItems' data-ref="_ZNK3tvm5relay7collage21HostPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE" data-ref-filename="_ZNK3tvm5relay7collage21HostPartitionRuleNode15AppendBodyItemsEPSt6vectorINS_3DocESaIS4_EE">AppendBodyItems</dfn>(<span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</a>&lt;<a class="type" href="../../printer/doc.h.html#tvm::Doc" title='tvm::Doc' data-ref="tvm::Doc" data-ref-filename="tvm..Doc">Doc</a>&gt;* <dfn class="local col5 decl" id="505body_items" title='body_items' data-type='std::vector&lt;Doc&gt; *' data-ref="505body_items" data-ref-filename="505body_items">body_items</dfn>) <em>const</em> override;</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td> <b>public</b>:</td></tr>
<tr><th id="472">472</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>char</em>* <dfn class="decl def" id="tvm::relay::collage::HostPartitionRuleNode::_type_key" title='tvm::relay::collage::HostPartitionRuleNode::_type_key' data-ref="tvm::relay::collage::HostPartitionRuleNode::_type_key" data-ref-filename="tvm..relay..collage..HostPartitionRuleNode.._type_key">_type_key</dfn> = <q>"relay.collage.HostPartitionRule"</q>;</td></tr>
<tr><th id="473">473</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#671" title="static const constexpr bool _type_final = true; static const constexpr int _type_child_slots = 0; static_assert(!PartitionRuleNode::_type_final, &quot;ParentObj marked as final&quot;); static uint32_t RuntimeTypeIndex() { static_assert(HostPartitionRuleNode::_type_child_slots == 0 || PartitionRuleNode::_type_child_slots == 0 || HostPartitionRuleNode::_type_child_slots &lt; PartitionRuleNode::_type_child_slots, &quot;Need to set _type_child_slots when parent specifies it.&quot;); if (HostPartitionRuleNode::_type_index != ::tvm::runtime::TypeIndex::kDynamic) { return HostPartitionRuleNode::_type_index; } return _GetOrAllocRuntimeTypeIndex(); } static uint32_t _GetOrAllocRuntimeTypeIndex() { static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex( HostPartitionRuleNode::_type_key, HostPartitionRuleNode::_type_index, PartitionRuleNode::_GetOrAllocRuntimeTypeIndex(), HostPartitionRuleNode::_type_child_slots, HostPartitionRuleNode::_type_child_slots_can_overflow); return tindex; }" data-ref="_M/TVM_DECLARE_FINAL_OBJECT_INFO">TVM_DECLARE_FINAL_OBJECT_INFO</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><a class="type" href="#tvm::relay::collage::HostPartitionRuleNode" title='tvm::relay::collage::HostPartitionRuleNode' data-ref="tvm::relay::collage::HostPartitionRuleNode" data-ref-filename="tvm..relay..collage..HostPartitionRuleNode">HostPartitionRuleNode</a>, <a class="type" href="#tvm::relay::collage::PartitionRuleNode" title='tvm::relay::collage::PartitionRuleNode' data-ref="tvm::relay::collage::PartitionRuleNode" data-ref-filename="tvm..relay..collage..PartitionRuleNode">PartitionRuleNode</a>);</td></tr>
<tr><th id="474">474</th><td>};</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td><b>class</b> <dfn class="type def" id="tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule">HostPartitionRule</dfn> : <b>public</b> <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a> {</td></tr>
<tr><th id="477">477</th><td> <b>public</b>:</td></tr>
<tr><th id="478">478</th><td>  <b>explicit</b> <dfn class="decl fn" id="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime6StringE" title='tvm::relay::collage::HostPartitionRule::HostPartitionRule' data-ref="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime6StringE" data-ref-filename="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime6StringE">HostPartitionRule</dfn>(String <dfn class="local col6 decl" id="506rule_name" title='rule_name' data-type='tvm::runtime::String' data-ref="506rule_name" data-ref-filename="506rule_name">rule_name</dfn>);</td></tr>
<tr><th id="479">479</th><td></td></tr>
<tr><th id="480">480</th><td>  <a class="macro" href="../../../include/tvm/runtime/object.h.html#713" title="HostPartitionRule() = default; explicit HostPartitionRule(::tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt; n) : PartitionRule(n) {} HostPartitionRule(const HostPartitionRule&amp; other) = default; HostPartitionRule(HostPartitionRule&amp;&amp; other) = default; HostPartitionRule&amp; operator=(const HostPartitionRule&amp; other) = default; HostPartitionRule&amp; operator=(HostPartitionRule&amp;&amp; other) = default;; const HostPartitionRuleNode* operator-&gt;() const { return static_cast&lt;const HostPartitionRuleNode*&gt;(data_.get()); } const HostPartitionRuleNode* get() const { return operator-&gt;(); } using ContainerType = HostPartitionRuleNode;" data-ref="_M/TVM_DEFINE_OBJECT_REF_METHODS">TVM_DEFINE_OBJECT_REF_METHODS</a>(<dfn class="decl def fn" id="_ZN3tvm5relay7collage17HostPartitionRuleC1Ev" title='tvm::relay::collage::HostPartitionRule::HostPartitionRule' data-ref="_ZN3tvm5relay7collage17HostPartitionRuleC1Ev" data-ref-filename="_ZN3tvm5relay7collage17HostPartitionRuleC1Ev"><dfn class="decl def fn" id="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" title='tvm::relay::collage::HostPartitionRule::HostPartitionRule' data-ref="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE" data-ref-filename="_ZN3tvm5relay7collage17HostPartitionRuleC1ENS_7runtime9ObjectPtrINS3_6ObjectEEE"><dfn class="decl def fn" id="_ZN3tvm5relay7collage17HostPartitionRuleC1ERKS2_" title='tvm::relay::collage::HostPartitionRule::HostPartitionRule' data-ref="_ZN3tvm5relay7collage17HostPartitionRuleC1ERKS2_" data-ref-filename="_ZN3tvm5relay7collage17HostPartitionRuleC1ERKS2_"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule"><dfn class="decl def fn" id="_ZN3tvm5relay7collage17HostPartitionRuleC1EOS2_" title='tvm::relay::collage::HostPartitionRule::HostPartitionRule' data-ref="_ZN3tvm5relay7collage17HostPartitionRuleC1EOS2_" data-ref-filename="_ZN3tvm5relay7collage17HostPartitionRuleC1EOS2_"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule"><a class="type" href="#tvm::relay::collage::HostPartitionRule" title='tvm::relay::collage::HostPartitionRule' data-ref="tvm::relay::collage::HostPartitionRule" data-ref-filename="tvm..relay..collage..HostPartitionRule">HostPartitionRule</a></a></a></a></a></dfn></a></dfn></dfn></dfn>, <a class="type" href="#tvm::relay::collage::PartitionRule" title='tvm::relay::collage::PartitionRule' data-ref="tvm::relay::collage::PartitionRule" data-ref-filename="tvm..relay..collage..PartitionRule">PartitionRule</a>, <a class="type" href="#tvm::relay::collage::HostPartitionRuleNode" title='tvm::relay::collage::HostPartitionRuleNode' data-ref="tvm::relay::collage::HostPartitionRuleNode" data-ref-filename="tvm..relay..collage..HostPartitionRuleNode">HostPartitionRuleNode</a>);</td></tr>
<tr><th id="481">481</th><td>};</td></tr>
<tr><th id="482">482</th><td></td></tr>
<tr><th id="483">483</th><td>}  <i>// namespace collage</i></td></tr>
<tr><th id="484">484</th><td>}  <i>// namespace relay</i></td></tr>
<tr><th id="485">485</th><td>}  <i>// namespace tvm</i></td></tr>
<tr><th id="486">486</th><td></td></tr>
<tr><th id="487">487</th><td><u>#<span data-ppcond="25">endif</span>  // TVM_RELAY_COLLAGE_PARTITION_RULE_H_</u></td></tr>
<tr><th id="488">488</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='candidate_partition.cc.html'>tvm/src/relay/collage/candidate_partition.cc</a><br/>Generated on <em>2022-Sep-09</em> from project tvm revision <em>1d32c40</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
