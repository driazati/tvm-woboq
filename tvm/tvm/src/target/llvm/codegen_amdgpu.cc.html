<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>codegen_amdgpu.cc source code [tvm/src/target/llvm/codegen_amdgpu.cc] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tvm::codegen::CodeGenAMDGPU "/>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tvm/src/target/llvm/codegen_amdgpu.cc'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>tvm</a>/<a href='../..'>src</a>/<a href='..'>target</a>/<a href='./'>llvm</a>/<a href='codegen_amdgpu.cc.html'>codegen_amdgpu.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Licensed to the Apache Software Foundation (ASF) under one</i></td></tr>
<tr><th id="3">3</th><td><i> * or more contributor license agreements.  See the NOTICE file</i></td></tr>
<tr><th id="4">4</th><td><i> * distributed with this work for additional information</i></td></tr>
<tr><th id="5">5</th><td><i> * regarding copyright ownership.  The ASF licenses this file</i></td></tr>
<tr><th id="6">6</th><td><i> * to you under the Apache License, Version 2.0 (the</i></td></tr>
<tr><th id="7">7</th><td><i> * "License"); you may not use this file except in compliance</i></td></tr>
<tr><th id="8">8</th><td><i> * with the License.  You may obtain a copy of the License at</i></td></tr>
<tr><th id="9">9</th><td><i> *</i></td></tr>
<tr><th id="10">10</th><td><i> *   <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="11">11</th><td><i> *</i></td></tr>
<tr><th id="12">12</th><td><i> * Unless required by applicable law or agreed to in writing,</i></td></tr>
<tr><th id="13">13</th><td><i> * software distributed under the License is distributed on an</i></td></tr>
<tr><th id="14">14</th><td><i> * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</i></td></tr>
<tr><th id="15">15</th><td><i> * KIND, either express or implied.  See the License for the</i></td></tr>
<tr><th id="16">16</th><td><i> * specific language governing permissions and limitations</i></td></tr>
<tr><th id="17">17</th><td><i> * under the License.</i></td></tr>
<tr><th id="18">18</th><td><i> */</i></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><i class="doc">/*!</i></td></tr>
<tr><th id="21">21</th><td><i class="doc"> * <span class="command">\file</span> <span class="verb">codegen_amdgpu.cc</span></i></td></tr>
<tr><th id="22">22</th><td><i class="doc"> * <span class="command">\brief</span> AMDGPU code generator.</i></td></tr>
<tr><th id="23">23</th><td><i class="doc"> */</i></td></tr>
<tr><th id="24">24</th><td><u>#<span data-ppcond="24">ifdef</span> <span class="macro" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#include &lt;llvm/ADT/SmallString.h&gt;</u></td></tr>
<tr><th id="27">27</th><td><u>#include &lt;llvm/IR/Attributes.h&gt;</u></td></tr>
<tr><th id="28">28</th><td><u>#include &lt;llvm/IR/CallingConv.h&gt;</u></td></tr>
<tr><th id="29">29</th><td><u>#include &lt;llvm/IR/Function.h&gt;</u></td></tr>
<tr><th id="30">30</th><td><u>#include &lt;llvm/IR/GlobalValue.h&gt;</u></td></tr>
<tr><th id="31">31</th><td><u>#include &lt;llvm/IR/Instructions.h&gt;</u></td></tr>
<tr><th id="32">32</th><td><u>#include &lt;llvm/IR/Intrinsics.h&gt;</u></td></tr>
<tr><th id="33">33</th><td><u>#<span data-ppcond="33">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 100</u></td></tr>
<tr><th id="34">34</th><td><u>#include &lt;llvm/IR/IntrinsicsAMDGPU.h&gt;</u></td></tr>
<tr><th id="35">35</th><td><u>#<span data-ppcond="33">endif</span></u></td></tr>
<tr><th id="36">36</th><td><u>#include &lt;llvm/IR/LegacyPassManager.h&gt;</u></td></tr>
<tr><th id="37">37</th><td><u>#include &lt;llvm/IRReader/IRReader.h&gt;</u></td></tr>
<tr><th id="38">38</th><td><u>#<span data-ppcond="38">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 100</u></td></tr>
<tr><th id="39">39</th><td><u>#include &lt;llvm/Support/Alignment.h&gt;</u></td></tr>
<tr><th id="40">40</th><td><u>#<span data-ppcond="38">endif</span></u></td></tr>
<tr><th id="41">41</th><td><u>#include &lt;llvm/Support/CodeGen.h&gt;</u></td></tr>
<tr><th id="42">42</th><td><u>#include &lt;llvm/Support/SourceMgr.h&gt;</u></td></tr>
<tr><th id="43">43</th><td><u>#include &lt;llvm/Support/raw_ostream.h&gt;</u></td></tr>
<tr><th id="44">44</th><td><u>#include &lt;llvm/Target/TargetMachine.h&gt;</u></td></tr>
<tr><th id="45">45</th><td><u>#include &lt;llvm/Transforms/IPO/PassManagerBuilder.h&gt;</u></td></tr>
<tr><th id="46">46</th><td><u>#include &lt;llvm/Transforms/Utils/Cloning.h&gt;</u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../../../include/tvm/runtime/c_runtime_api.h.html">&lt;tvm/runtime/c_runtime_api.h&gt;</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="../../../include/tvm/runtime/device_api.h.html">&lt;tvm/runtime/device_api.h&gt;</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="../../../include/tvm/runtime/registry.h.html">&lt;tvm/runtime/registry.h&gt;</a></u></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="../../runtime/rocm/rocm_module.h.html">"../../runtime/rocm/rocm_module.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="../build_common.h.html">"../build_common.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="codegen_llvm.h.html">"codegen_llvm.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="llvm_instance.h.html">"llvm_instance.h"</a></u></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><b>namespace</b> <span class="namespace">tvm</span> {</td></tr>
<tr><th id="57">57</th><td><b>namespace</b> <span class="namespace">codegen</span> {</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><b>namespace</b> {</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><i  data-doc="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv">// calls the device api to get the max threads per block</i></td></tr>
<tr><th id="62">62</th><td><em>static</em> <b>inline</b> <em>int</em> <dfn class="tu decl def fn" id="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv" title='tvm::codegen::(anonymous namespace)::DetectROCMmaxThreadsPerBlock' data-type='int tvm::codegen::(anonymous namespace)::DetectROCMmaxThreadsPerBlock()' data-ref="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv" data-ref-filename="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv">DetectROCMmaxThreadsPerBlock</dfn>() {</td></tr>
<tr><th id="63">63</th><td>  <a class="typedef" href="../../../include/tvm/runtime/ndarray.h.html#tvm::Device" title='tvm::Device' data-type='DLDevice' data-ref="tvm::Device" data-ref-filename="tvm..Device">Device</a> <a class="ref fn fake" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#68" title='(anonymous struct)::' data-ref="_ZN8DLDeviceC1Ev" data-ref-filename="_ZN8DLDeviceC1Ev"></a><dfn class="local col2 decl" id="282tvm_dev" title='tvm_dev' data-type='tvm::Device' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</dfn>;</td></tr>
<tr><th id="64">64</th><td>  <a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>.<a class="ref field" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#(anonymous)::device_type" title='(anonymous struct)::device_type' data-ref="(anonymous)::device_type" data-ref-filename="(anonymous)..device_type">device_type</a> = <a class="enum" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#kDLROCM" title='kDLROCM' data-ref="kDLROCM" data-ref-filename="kDLROCM">kDLROCM</a>;</td></tr>
<tr><th id="65">65</th><td>  <a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>.<a class="ref field" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#(anonymous)::device_id" title='(anonymous struct)::device_id' data-ref="(anonymous)::device_id" data-ref-filename="(anonymous)..device_id">device_id</a> = <var>0</var>;</td></tr>
<tr><th id="66">66</th><td>  <span class="namespace">tvm::runtime::</span><a class="type" href="../../../include/tvm/runtime/device_api.h.html#tvm::runtime::DeviceAPI" title='tvm::runtime::DeviceAPI' data-ref="tvm::runtime::DeviceAPI" data-ref-filename="tvm..runtime..DeviceAPI">DeviceAPI</a>* <dfn class="local col3 decl" id="283api" title='api' data-type='tvm::runtime::DeviceAPI *' data-ref="283api" data-ref-filename="283api">api</dfn> = <span class="namespace">tvm::runtime::</span><a class="type" href="../../../include/tvm/runtime/device_api.h.html#tvm::runtime::DeviceAPI" title='tvm::runtime::DeviceAPI' data-ref="tvm::runtime::DeviceAPI" data-ref-filename="tvm..runtime..DeviceAPI">DeviceAPI</a>::<a class="ref fn" href="../../../include/tvm/runtime/device_api.h.html#_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb" title='tvm::runtime::DeviceAPI::Get' data-ref="_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb" data-ref-filename="_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb">Get</a>(<a class="ref fn fake" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#68" title='(anonymous struct)::' data-ref="_ZN8DLDeviceC1ERKS_" data-ref-filename="_ZN8DLDeviceC1ERKS_"></a><a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>, <b>true</b>);</td></tr>
<tr><th id="67">67</th><td>  <b>if</b> (<a class="local col3 ref" href="#283api" title='api' data-ref="283api" data-ref-filename="283api">api</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="68">68</th><td>    TVMRetValue <a class="ref fn fake" href="../../../include/tvm/runtime/packed_func.h.html#_ZN3tvm7runtime11TVMRetValueC1Ev" title='tvm::runtime::TVMRetValue::TVMRetValue' data-ref="_ZN3tvm7runtime11TVMRetValueC1Ev" data-ref-filename="_ZN3tvm7runtime11TVMRetValueC1Ev"></a><dfn class="local col4 decl" id="284val" title='val' data-type='tvm::runtime::TVMRetValue' data-ref="284val" data-ref-filename="284val">val</dfn>;</td></tr>
<tr><th id="69">69</th><td>    <a class="local col3 ref" href="#283api" title='api' data-ref="283api" data-ref-filename="283api">api</a>-&gt;<a class="virtual ref fn" href="../../../include/tvm/runtime/device_api.h.html#_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE" title='tvm::runtime::DeviceAPI::GetAttr' data-ref="_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE" data-ref-filename="_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE">GetAttr</a>(<a class="ref fn fake" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#68" title='(anonymous struct)::' data-ref="_ZN8DLDeviceC1ERKS_" data-ref-filename="_ZN8DLDeviceC1ERKS_"></a><a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>, <span class="namespace">tvm::runtime::</span><a class="enum" href="../../../include/tvm/runtime/device_api.h.html#tvm::runtime::kExist" title='tvm::runtime::kExist' data-ref="tvm::runtime::kExist" data-ref-filename="tvm..runtime..kExist">kExist</a>, &amp;<a class="local col4 ref" href="#284val" title='val' data-ref="284val" data-ref-filename="284val">val</a>);</td></tr>
<tr><th id="70">70</th><td>    <b>if</b> (<a class="local col4 ref" href="#284val" title='val' data-ref="284val" data-ref-filename="284val">val</a>.<a class="ref fn" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime12TVMPODValue_cviEv" title='tvm::runtime::TVMPODValue_::operator int' data-ref="_ZNK3tvm7runtime12TVMPODValue_cviEv" data-ref-filename="_ZNK3tvm7runtime12TVMPODValue_cviEv"><b>operator</b> <em>int</em></a>() == <var>1</var>) {</td></tr>
<tr><th id="71">71</th><td>      <span class="namespace">tvm::runtime::</span><a class="type" href="../../../include/tvm/runtime/device_api.h.html#tvm::runtime::DeviceAPI" title='tvm::runtime::DeviceAPI' data-ref="tvm::runtime::DeviceAPI" data-ref-filename="tvm..runtime..DeviceAPI">DeviceAPI</a>::<a class="ref fn" href="../../../include/tvm/runtime/device_api.h.html#_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb" title='tvm::runtime::DeviceAPI::Get' data-ref="_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb" data-ref-filename="_ZN3tvm7runtime9DeviceAPI3GetE8DLDeviceb">Get</a>(<a class="ref fn fake" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#68" title='(anonymous struct)::' data-ref="_ZN8DLDeviceC1ERKS_" data-ref-filename="_ZN8DLDeviceC1ERKS_"></a><a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>)-&gt;<a class="virtual ref fn" href="../../../include/tvm/runtime/device_api.h.html#_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE" title='tvm::runtime::DeviceAPI::GetAttr' data-ref="_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE" data-ref-filename="_ZN3tvm7runtime9DeviceAPI7GetAttrE8DLDeviceNS0_14DeviceAttrKindEPNS0_11TVMRetValueE">GetAttr</a>(<a class="ref fn fake" href="../../../3rdparty/dlpack/include/dlpack/dlpack.h.html#68" title='(anonymous struct)::' data-ref="_ZN8DLDeviceC1ERKS_" data-ref-filename="_ZN8DLDeviceC1ERKS_"></a><a class="local col2 ref" href="#282tvm_dev" title='tvm_dev' data-ref="282tvm_dev" data-ref-filename="282tvm_dev">tvm_dev</a>, <span class="namespace">tvm::runtime::</span><a class="enum" href="../../../include/tvm/runtime/device_api.h.html#tvm::runtime::kMaxThreadsPerBlock" title='tvm::runtime::kMaxThreadsPerBlock' data-ref="tvm::runtime::kMaxThreadsPerBlock" data-ref-filename="tvm..runtime..kMaxThreadsPerBlock">kMaxThreadsPerBlock</a>,</td></tr>
<tr><th id="72">72</th><td>                                                     &amp;<a class="local col4 ref" href="#284val" title='val' data-ref="284val" data-ref-filename="284val">val</a>);</td></tr>
<tr><th id="73">73</th><td>      <b>return</b> <a class="local col4 ref" href="#284val" title='val' data-ref="284val" data-ref-filename="284val">val</a>.<a class="ref fn" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime12TVMPODValue_cviEv" title='tvm::runtime::TVMPODValue_::operator int' data-ref="_ZNK3tvm7runtime12TVMPODValue_cviEv" data-ref-filename="_ZNK3tvm7runtime12TVMPODValue_cviEv"><b>operator</b> <em>int</em></a>();</td></tr>
<tr><th id="74">74</th><td>    }</td></tr>
<tr><th id="75">75</th><td>  }</td></tr>
<tr><th id="76">76</th><td>  <a class="macro" href="../../../include/tvm/runtime/logging.h.html#571" title="(::tvm::runtime::detail::LogMessage(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 76).stream() &lt;&lt; &quot;Warning: &quot;)" data-ref="_M/LOG">LOG</a>(WARNING) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Cannot get maximum number of threads for AMD codegen"</q>;</td></tr>
<tr><th id="77">77</th><td>  <b>return</b> <var>256</var>;  <i>// see the discussion at PR #4342 for the choice of default</i></td></tr>
<tr><th id="78">78</th><td>}</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><i>// AMDGPU code generator.</i></td></tr>
<tr><th id="83">83</th><td><b>class</b> <dfn class="type def" id="tvm::codegen::CodeGenAMDGPU" title='tvm::codegen::CodeGenAMDGPU' data-ref="tvm::codegen::CodeGenAMDGPU" data-ref-filename="tvm..codegen..CodeGenAMDGPU">CodeGenAMDGPU</dfn> : <b>public</b> <a class="type" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM" title='tvm::codegen::CodeGenLLVM' data-ref="tvm::codegen::CodeGenLLVM" data-ref-filename="tvm..codegen..CodeGenLLVM">CodeGenLLVM</a> {</td></tr>
<tr><th id="84">84</th><td> <b>public</b>:</td></tr>
<tr><th id="85">85</th><td>  <dfn class="tu decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPUC1Ev" title='tvm::codegen::CodeGenAMDGPU::CodeGenAMDGPU' data-type='void tvm::codegen::CodeGenAMDGPU::CodeGenAMDGPU()' data-ref="_ZN3tvm7codegen13CodeGenAMDGPUC1Ev" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPUC1Ev">CodeGenAMDGPU</dfn>() = <b>default</b>;</td></tr>
<tr><th id="86">86</th><td>  <b>virtual</b> <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPUD1Ev" title='tvm::codegen::CodeGenAMDGPU::~CodeGenAMDGPU' data-ref="_ZN3tvm7codegen13CodeGenAMDGPUD1Ev" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPUD1Ev">~CodeGenAMDGPU</dfn>() = <b>default</b>;</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td>  <em>void</em> <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU11AddFunctionERKNS_3tir8PrimFuncE" title='tvm::codegen::CodeGenAMDGPU::AddFunction' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU11AddFunctionERKNS_3tir8PrimFuncE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU11AddFunctionERKNS_3tir8PrimFuncE">AddFunction</dfn>(<em>const</em> <a class="type" href="../../../include/tvm/tir/function.h.html#tvm::tir::PrimFunc" title='tvm::tir::PrimFunc' data-ref="tvm::tir::PrimFunc" data-ref-filename="tvm..tir..PrimFunc">PrimFunc</a>&amp; <dfn class="local col5 decl" id="285f" title='f' data-type='const tvm::tir::PrimFunc &amp;' data-ref="285f" data-ref-filename="285f">f</dfn>) final {</td></tr>
<tr><th id="89">89</th><td>    <i>// add function as void return value</i></td></tr>
<tr><th id="90">90</th><td>    <a class="type" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM" title='tvm::codegen::CodeGenLLVM' data-ref="tvm::codegen::CodeGenLLVM" data-ref-filename="tvm..codegen..CodeGenLLVM">CodeGenLLVM</a>::<a class="member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM19AddFunctionInternalERKNS_3tir8PrimFuncEb" title='tvm::codegen::CodeGenLLVM::AddFunctionInternal' data-ref="_ZN3tvm7codegen11CodeGenLLVM19AddFunctionInternalERKNS_3tir8PrimFuncEb" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM19AddFunctionInternalERKNS_3tir8PrimFuncEb">AddFunctionInternal</a>(<a class="local col5 ref" href="#285f" title='f' data-ref="285f" data-ref-filename="285f">f</a>, <b>true</b>);</td></tr>
<tr><th id="91">91</th><td>    <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::function_" title='tvm::codegen::CodeGenLLVM::function_' data-ref="tvm::codegen::CodeGenLLVM::function_" data-ref-filename="tvm..codegen..CodeGenLLVM..function_">function_</a>-&gt;<span class='ref fn' title='llvm::Function::setCallingConv' data-ref="_ZN4llvm8Function14setCallingConvEj" data-ref-filename="_ZN4llvm8Function14setCallingConvEj">setCallingConv</span>(<span class="namespace">llvm::CallingConv::</span><span class='enum' title='llvm::CallingConv::AMDGPU_KERNEL' data-ref="llvm::CallingConv::AMDGPU_KERNEL" data-ref-filename="llvm..CallingConv..AMDGPU_KERNEL">AMDGPU_KERNEL</span>);</td></tr>
<tr><th id="92">92</th><td>    <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/iosfwd.html#std::ostringstream" title='std::ostringstream' data-type='basic_ostringstream&lt;char&gt;' data-ref="std::ostringstream" data-ref-filename="std..ostringstream">ostringstream</a> <a class="ref fn fake" href="../../../../include/c++/10/sstream.html#_ZNSt7__cxx1119basic_ostringstreamC1Ev" title='std::basic_ostringstream::basic_ostringstream&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1119basic_ostringstreamC1Ev" data-ref-filename="_ZNSt7__cxx1119basic_ostringstreamC1Ev"></a><dfn class="local col6 decl" id="286attr" title='attr' data-type='std::ostringstream' data-ref="286attr" data-ref-filename="286attr">attr</dfn>;</td></tr>
<tr><th id="93">93</th><td>    <a class="local col6 ref" href="#286attr" title='attr' data-ref="286attr" data-ref-filename="286attr">attr</a> <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"1,"</q> <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZNSt13basic_ostreamlsEi" title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEi" data-ref-filename="_ZNSt13basic_ostreamlsEi">&lt;&lt;</a> <a class="tu ref fn" href="#_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv" title='tvm::codegen::(anonymous namespace)::DetectROCMmaxThreadsPerBlock' data-use='c' data-ref="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv" data-ref-filename="_ZN3tvm7codegen12_GLOBAL__N_128DetectROCMmaxThreadsPerBlockEv">DetectROCMmaxThreadsPerBlock</a>();</td></tr>
<tr><th id="94">94</th><td>    <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::function_" title='tvm::codegen::CodeGenLLVM::function_' data-ref="tvm::codegen::CodeGenLLVM::function_" data-ref-filename="tvm..codegen..CodeGenLLVM..function_">function_</a>-&gt;<span class='ref fn' title='llvm::Function::addFnAttr' data-ref="_ZN4llvm8Function9addFnAttrENS_9StringRefES1_" data-ref-filename="_ZN4llvm8Function9addFnAttrENS_9StringRefES1_">addFnAttr</span>(<span class='ref fn fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></span><q>"amdgpu-flat-work-group-size"</q>, <span class='ref fn fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE"></span><a class="local col6 ref" href="#286attr" title='attr' data-ref="286attr" data-ref-filename="286attr">attr</a>.<a class="ref fn" href="../../../../include/c++/10/sstream.html#_ZNKSt7__cxx1119basic_ostringstream3strEv" title='std::basic_ostringstream::str' data-ref="_ZNKSt7__cxx1119basic_ostringstream3strEv" data-ref-filename="_ZNKSt7__cxx1119basic_ostringstream3strEv">str</a>());</td></tr>
<tr><th id="95">95</th><td>  }</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>  <em>void</em> <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU10VisitStmt_EPKNS_3tir12AllocateNodeE" title='tvm::codegen::CodeGenAMDGPU::VisitStmt_' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU10VisitStmt_EPKNS_3tir12AllocateNodeE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU10VisitStmt_EPKNS_3tir12AllocateNodeE">VisitStmt_</dfn>(<em>const</em> <a class="type" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode" title='tvm::tir::AllocateNode' data-ref="tvm::tir::AllocateNode" data-ref-filename="tvm..tir..AllocateNode">AllocateNode</a>* <dfn class="local col7 decl" id="287op" title='op' data-type='const tvm::tir::AllocateNode *' data-ref="287op" data-ref-filename="287op">op</dfn>) final {</td></tr>
<tr><th id="98">98</th><td>    <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(!is_zero(op-&gt;condition))) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 98).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;!is_zero(op-&gt;condition)&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(!<a class="ref fn" href="../../../include/tvm/tir/op.h.html#_ZN3tvm3tir7is_zeroERKNS_8PrimExprE" title='tvm::tir::is_zero' data-ref="_ZN3tvm3tir7is_zeroERKNS_8PrimExprE" data-ref-filename="_ZN3tvm3tir7is_zeroERKNS_8PrimExprE">is_zero</a>(<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::condition" title='tvm::tir::AllocateNode::condition' data-ref="tvm::tir::AllocateNode::condition" data-ref-filename="tvm..tir..AllocateNode..condition">condition</a>));</td></tr>
<tr><th id="99">99</th><td>    <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="local col8 decl" id="288buf" title='buf' data-type='llvm::Value *' data-ref="288buf" data-ref-filename="288buf">buf</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="100">100</th><td>    <a class="type" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo" title='tvm::codegen::CodeGenLLVM::StorageInfo' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo">StorageInfo</a>&amp; <dfn class="local col9 decl" id="289info" title='info' data-type='tvm::codegen::CodeGenLLVM::StorageInfo &amp;' data-ref="289info" data-ref-filename="289info">info</dfn> = <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::alloc_storage_info_" title='tvm::codegen::CodeGenLLVM::alloc_storage_info_' data-ref="tvm::codegen::CodeGenLLVM::alloc_storage_info_" data-ref-filename="tvm..codegen..CodeGenLLVM..alloc_storage_info_">alloc_storage_info_</a><a class="ref fn" href="../../../../include/c++/10/bits/unordered_map.h.html#_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" title='std::unordered_map::operator[]' data-ref="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" data-ref-filename="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368">[<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::buffer_var" title='tvm::tir::AllocateNode::buffer_var' data-ref="tvm::tir::AllocateNode::buffer_var" data-ref-filename="tvm..tir..AllocateNode..buffer_var">buffer_var</a>.<a class="ref fn" href="../../../include/tvm/tir/var.h.html#_ZNK3tvm3tir3Var3getEv" title='tvm::tir::Var::get' data-ref="_ZNK3tvm3tir3Var3getEv" data-ref-filename="_ZNK3tvm3tir3Var3getEv">get</a>()]</a>;</td></tr>
<tr><th id="101">101</th><td>    <em>auto</em> <dfn class="local col0 decl" id="290storage_scope" title='storage_scope' data-type='tvm::runtime::StorageScope' data-ref="290storage_scope" data-ref-filename="290storage_scope">storage_scope</dfn> = <span class="namespace">runtime::</span><a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageScope" title='tvm::runtime::StorageScope' data-ref="tvm::runtime::StorageScope" data-ref-filename="tvm..runtime..StorageScope">StorageScope</a>::<a class="ref fn" href="../../runtime/thread_storage_scope.h.html#_ZN3tvm7runtime12StorageScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='tvm::runtime::StorageScope::Create' data-ref="_ZN3tvm7runtime12StorageScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN3tvm7runtime12StorageScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">Create</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/container/string.h.html#_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" title='tvm::runtime::String::operator basic_string' data-ref="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" data-ref-filename="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv"></a><a class="ref fn" href="../../tir/transforms/ir_utils.h.html#_ZN3tvm3tir18GetPtrStorageScopeENS0_3VarE" title='tvm::tir::GetPtrStorageScope' data-ref="_ZN3tvm3tir18GetPtrStorageScopeENS0_3VarE" data-ref-filename="_ZN3tvm3tir18GetPtrStorageScopeENS0_3VarE">GetPtrStorageScope</a>(<a class="ref fn fake" href="../../../include/tvm/tir/var.h.html#88" title='tvm::tir::Var::Var' data-ref="_ZN3tvm3tir3VarC1ERKS1_" data-ref-filename="_ZN3tvm3tir3VarC1ERKS1_"></a><a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::buffer_var" title='tvm::tir::AllocateNode::buffer_var' data-ref="tvm::tir::AllocateNode::buffer_var" data-ref-filename="tvm..tir..AllocateNode..buffer_var">buffer_var</a>));</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td>    <b>if</b> (<a class="local col0 ref" href="#290storage_scope" title='storage_scope' data-ref="290storage_scope" data-ref-filename="290storage_scope">storage_scope</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageScope::rank" title='tvm::runtime::StorageScope::rank' data-ref="tvm::runtime::StorageScope::rank" data-ref-filename="tvm..runtime..StorageScope..rank">rank</a> == <span class="namespace">runtime::</span><a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank" title='tvm::runtime::StorageRank' data-ref="tvm::runtime::StorageRank" data-ref-filename="tvm..runtime..StorageRank">StorageRank</a>::<a class="enum" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank::kShared" title='tvm::runtime::StorageRank::kShared' data-ref="tvm::runtime::StorageRank::kShared" data-ref-filename="tvm..runtime..StorageRank..kShared">kShared</a> &amp;&amp; <a class="local col0 ref" href="#290storage_scope" title='storage_scope' data-ref="290storage_scope" data-ref-filename="290storage_scope">storage_scope</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageScope::tag" title='tvm::runtime::StorageScope::tag' data-ref="tvm::runtime::StorageScope::tag" data-ref-filename="tvm..runtime..StorageScope..tag">tag</a> <a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" title='std::operator==' data-ref="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">==</a> <q>".dyn"</q>) {</td></tr>
<tr><th id="104">104</th><td>      <a class="macro" href="../../../include/tvm/runtime/logging.h.html#571" title="(::tvm::runtime::detail::LogMessage(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 104).stream() &lt;&lt; &quot;Warning: &quot;)" data-ref="_M/LOG">LOG</a>(WARNING) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Dynamic shared memory support for rocm is experimental."</q>;</td></tr>
<tr><th id="105">105</th><td>      <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a> = <a class="member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE" title='tvm::codegen::CodeGenLLVM::AllocateSharedMemory' data-ref="_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE">AllocateSharedMemory</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/data_type.h.html#41" title='tvm::runtime::DataType::DataType' data-ref="_ZN3tvm7runtime8DataTypeC1ERKS1_" data-ref-filename="_ZN3tvm7runtime8DataTypeC1ERKS1_"></a><a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::dtype" title='tvm::tir::AllocateNode::dtype' data-ref="tvm::tir::AllocateNode::dtype" data-ref-filename="tvm..tir..AllocateNode..dtype">dtype</a>, <var>0</var>, <var>3</var>, <span class="namespace">std::</span><a class="ref fn" href="../../../../include/c++/10/bits/algorithmfwd.h.html#_ZSt3minRKT_S1_" title='std::min' data-ref="_ZSt3minRKT_S1_" data-ref-filename="_ZSt3minRKT_S1_">min</a>(<a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a>, <var>16</var>),</td></tr>
<tr><th id="106">106</th><td>                                 <span class="namespace">llvm::</span><span class='type' title='llvm::GlobalValue' data-ref="llvm::GlobalValue" data-ref-filename="llvm..GlobalValue">GlobalValue</span>::<span class='enum' title='llvm::GlobalValue::ExternalLinkage' data-ref="llvm::GlobalValue::ExternalLinkage" data-ref-filename="llvm..GlobalValue..ExternalLinkage">ExternalLinkage</span>);</td></tr>
<tr><th id="107">107</th><td>    } <b>else</b> {</td></tr>
<tr><th id="108">108</th><td>      <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="291constant_size" title='constant_size' data-type='size_t' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</dfn> = <a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref fn" href="../../../include/tvm/tir/stmt.h.html#_ZNK3tvm3tir12AllocateNode22ConstantAllocationSizeEv" title='tvm::tir::AllocateNode::ConstantAllocationSize' data-ref="_ZNK3tvm3tir12AllocateNode22ConstantAllocationSizeEv" data-ref-filename="_ZNK3tvm3tir12AllocateNode22ConstantAllocationSizeEv">ConstantAllocationSize</a>();</td></tr>
<tr><th id="109">109</th><td>      <a class="macro" href="../../../include/tvm/runtime/logging.h.html#687" title="if (auto __tvm__log__err = ::tvm::runtime::detail::LogCheck_GT(constant_size, 0)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 109).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; std::endl &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: &quot; &lt;&lt; &quot;constant_size&quot; &quot; &quot; &quot;&gt;&quot; &quot; &quot; &quot;0&quot; &lt;&lt; *__tvm__log__err &lt;&lt; &quot;: &quot;" data-ref="_M/ICHECK_GT">ICHECK_GT</a>(<a class="local col1 ref" href="#291constant_size" title='constant_size' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</a>, <var>0</var>) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Can only handle constant size stack allocation in GPU"</q>;</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td>      <b>if</b> (<a class="local col1 ref" href="#291constant_size" title='constant_size' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</a> % <var>4</var> == <var>0</var> &amp;&amp; <a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a> == <var>0</var>) {</td></tr>
<tr><th id="112">112</th><td>        <a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a> = <a class="ref fn" href="../../tir/transforms/ir_utils.h.html#_ZN3tvm3tir22GetTempAllocaAlignmentENS_7runtime8DataTypeEi" title='tvm::tir::GetTempAllocaAlignment' data-ref="_ZN3tvm3tir22GetTempAllocaAlignmentENS_7runtime8DataTypeEi" data-ref-filename="_ZN3tvm3tir22GetTempAllocaAlignmentENS_7runtime8DataTypeEi">GetTempAllocaAlignment</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/data_type.h.html#41" title='tvm::runtime::DataType::DataType' data-ref="_ZN3tvm7runtime8DataTypeC1ERKS1_" data-ref-filename="_ZN3tvm7runtime8DataTypeC1ERKS1_"></a><a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::dtype" title='tvm::tir::AllocateNode::dtype' data-ref="tvm::tir::AllocateNode::dtype" data-ref-filename="tvm..tir..AllocateNode..dtype">dtype</a>, <a class="local col1 ref" href="#291constant_size" title='constant_size' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</a>);</td></tr>
<tr><th id="113">113</th><td>      }</td></tr>
<tr><th id="114">114</th><td>      <i>// maximum necessary alignment in the AMD devices</i></td></tr>
<tr><th id="115">115</th><td>      <b>if</b> (<a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a> &gt; <var>16</var>) {</td></tr>
<tr><th id="116">116</th><td>        <a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a> = <var>16</var>;</td></tr>
<tr><th id="117">117</th><td>      }</td></tr>
<tr><th id="118">118</th><td>      <b>if</b> (<a class="local col0 ref" href="#290storage_scope" title='storage_scope' data-ref="290storage_scope" data-ref-filename="290storage_scope">storage_scope</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageScope::rank" title='tvm::runtime::StorageScope::rank' data-ref="tvm::runtime::StorageScope::rank" data-ref-filename="tvm..runtime..StorageScope..rank">rank</a> == <span class="namespace">runtime::</span><a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank" title='tvm::runtime::StorageRank' data-ref="tvm::runtime::StorageRank" data-ref-filename="tvm..runtime..StorageRank">StorageRank</a>::<a class="enum" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank::kLocal" title='tvm::runtime::StorageRank::kLocal' data-ref="tvm::runtime::StorageRank::kLocal" data-ref-filename="tvm..runtime..StorageRank..kLocal">kLocal</a>) {</td></tr>
<tr><th id="119">119</th><td>        <i>// const int local_address_space = 5;</i></td></tr>
<tr><th id="120">120</th><td><i>        // TODO(tqchen): for higher version of LLVM, local address space can be set.</i></td></tr>
<tr><th id="121">121</th><td>        <span class="namespace">llvm::</span><span class='type' title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</span>* <dfn class="local col2 decl" id="292alloca" title='alloca' data-type='llvm::AllocaInst *' data-ref="292alloca" data-ref-filename="292alloca">alloca</dfn> = <a class="local col3 member fn" href="codegen_llvm.h.html#293WithFunctionEntry" title='WithFunctionEntry' data-ref="293WithFunctionEntry" data-ref-filename="293WithFunctionEntry">WithFunctionEntry</a>([&amp;]() {</td></tr>
<tr><th id="122">122</th><td>          <b>return</b> <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreateAlloca' data-ref="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateAlloca</span>(<a class="member fn" href="codegen_llvm.h.html#_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE" title='tvm::codegen::CodeGenLLVM::DTypeToLLVMType' data-ref="_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE" data-ref-filename="_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE">DTypeToLLVMType</a>(<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::dtype" title='tvm::tir::AllocateNode::dtype' data-ref="tvm::tir::AllocateNode::dtype" data-ref-filename="tvm..tir..AllocateNode..dtype">dtype</a>), <a class="member fn" href="codegen_llvm.h.html#_ZNK3tvm7codegen11CodeGenLLVM10ConstInt32El" title='tvm::codegen::CodeGenLLVM::ConstInt32' data-ref="_ZNK3tvm7codegen11CodeGenLLVM10ConstInt32El" data-ref-filename="_ZNK3tvm7codegen11CodeGenLLVM10ConstInt32El">ConstInt32</a>(<a class="local col1 ref" href="#291constant_size" title='constant_size' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</a>));</td></tr>
<tr><th id="123">123</th><td>        });</td></tr>
<tr><th id="124">124</th><td><u>#<span data-ppcond="124">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 110</u></td></tr>
<tr><th id="125">125</th><td>        <em>auto</em> <dfn class="local col4 decl" id="294alignment" title='alignment' data-type='unsigned int' data-ref="294alignment" data-ref-filename="294alignment">alignment</dfn> = <b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="local col2 ref" href="#292alloca" title='alloca' data-ref="292alloca" data-ref-filename="292alloca">alloca</a>-&gt;<span class='ref fn' title='llvm::AllocaInst::getAlign' data-ref="_ZNK4llvm10AllocaInst8getAlignEv" data-ref-filename="_ZNK4llvm10AllocaInst8getAlignEv">getAlign</span>().<span class='ref fn' title='llvm::Align::value' data-ref="_ZNK4llvm5Align5valueEv" data-ref-filename="_ZNK4llvm5Align5valueEv">value</span>());</td></tr>
<tr><th id="126">126</th><td><u>#<span data-ppcond="124">else</span></u></td></tr>
<tr><th id="127">127</th><td>        <em>unsigned</em> alignment = alloca-&gt;getAlignment();</td></tr>
<tr><th id="128">128</th><td><u>#<span data-ppcond="124">endif</span></u></td></tr>
<tr><th id="129">129</th><td>        <b>if</b> (<a class="local col4 ref" href="#294alignment" title='alignment' data-ref="294alignment" data-ref-filename="294alignment">alignment</a> &lt; <b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a>)) {</td></tr>
<tr><th id="130">130</th><td><u>#<span data-ppcond="130">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 100</u></td></tr>
<tr><th id="131">131</th><td>          <a class="local col2 ref" href="#292alloca" title='alloca' data-ref="292alloca" data-ref-filename="292alloca">alloca</a>-&gt;<span class='ref fn' title='llvm::AllocaInst::setAlignment' data-ref="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE">setAlignment</span>(<span class="namespace">llvm::</span><span class='type' title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</span><span class='ref fn' title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1Em" data-ref-filename="_ZN4llvm5AlignC1Em">(</span><a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a>));</td></tr>
<tr><th id="132">132</th><td><u>#<span data-ppcond="130">else</span></u></td></tr>
<tr><th id="133">133</th><td>          alloca-&gt;setAlignment(info.alignment);</td></tr>
<tr><th id="134">134</th><td><u>#<span data-ppcond="130">endif</span></u></td></tr>
<tr><th id="135">135</th><td>        }</td></tr>
<tr><th id="136">136</th><td>        <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a> = <a class="local col2 ref" href="#292alloca" title='alloca' data-ref="292alloca" data-ref-filename="292alloca">alloca</a>;</td></tr>
<tr><th id="137">137</th><td>      } <b>else</b> {</td></tr>
<tr><th id="138">138</th><td>        <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(storage_scope.rank == runtime::StorageRank::kShared)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 138).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;storage_scope.rank == runtime::StorageRank::kShared&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col0 ref" href="#290storage_scope" title='storage_scope' data-ref="290storage_scope" data-ref-filename="290storage_scope">storage_scope</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageScope::rank" title='tvm::runtime::StorageScope::rank' data-ref="tvm::runtime::StorageScope::rank" data-ref-filename="tvm..runtime..StorageScope..rank">rank</a> == runtime::<a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank" title='tvm::runtime::StorageRank' data-ref="tvm::runtime::StorageRank" data-ref-filename="tvm..runtime..StorageRank">StorageRank</a>::<a class="enum" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::StorageRank::kShared" title='tvm::runtime::StorageRank::kShared' data-ref="tvm::runtime::StorageRank::kShared" data-ref-filename="tvm..runtime..StorageRank..kShared">kShared</a>)</td></tr>
<tr><th id="139">139</th><td>            <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Can only allocate shared or local memory inside kernel"</q>;</td></tr>
<tr><th id="140">140</th><td>        <i>// Shared memory: address space  == 3</i></td></tr>
<tr><th id="141">141</th><td>        <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a> = <a class="member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE" title='tvm::codegen::CodeGenLLVM::AllocateSharedMemory' data-ref="_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM20AllocateSharedMemoryENS_7runtime8DataTypeEmjiN4llvm11GlobalValue12LinkageTypesE">AllocateSharedMemory</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/data_type.h.html#41" title='tvm::runtime::DataType::DataType' data-ref="_ZN3tvm7runtime8DataTypeC1ERKS1_" data-ref-filename="_ZN3tvm7runtime8DataTypeC1ERKS1_"></a><a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::dtype" title='tvm::tir::AllocateNode::dtype' data-ref="tvm::tir::AllocateNode::dtype" data-ref-filename="tvm..tir..AllocateNode..dtype">dtype</a>, <a class="local col1 ref" href="#291constant_size" title='constant_size' data-ref="291constant_size" data-ref-filename="291constant_size">constant_size</a>, <var>3</var>, <a class="local col9 ref" href="#289info" title='info' data-ref="289info" data-ref-filename="289info">info</a>.<a class="ref field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::StorageInfo::alignment" title='tvm::codegen::CodeGenLLVM::StorageInfo::alignment' data-ref="tvm::codegen::CodeGenLLVM::StorageInfo::alignment" data-ref-filename="tvm..codegen..CodeGenLLVM..StorageInfo..alignment">alignment</a>,</td></tr>
<tr><th id="142">142</th><td>                                   <span class="namespace">llvm::</span><span class='type' title='llvm::GlobalValue' data-ref="llvm::GlobalValue" data-ref-filename="llvm..GlobalValue">GlobalValue</span>::<span class='enum' title='llvm::GlobalValue::PrivateLinkage' data-ref="llvm::GlobalValue::PrivateLinkage" data-ref-filename="llvm..GlobalValue..PrivateLinkage">PrivateLinkage</span>);</td></tr>
<tr><th id="143">143</th><td>      }</td></tr>
<tr><th id="144">144</th><td>    }</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>    <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a> = <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreatePointerCast' data-ref="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePointerCast</span>(</td></tr>
<tr><th id="147">147</th><td>        <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a>, <a class="member fn" href="codegen_llvm.h.html#_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE" title='tvm::codegen::CodeGenLLVM::DTypeToLLVMType' data-ref="_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE" data-ref-filename="_ZNK3tvm7codegen11CodeGenLLVM15DTypeToLLVMTypeERKNS_7runtime8DataTypeE">DTypeToLLVMType</a>(<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::dtype" title='tvm::tir::AllocateNode::dtype' data-ref="tvm::tir::AllocateNode::dtype" data-ref-filename="tvm..tir..AllocateNode..dtype">dtype</a>)-&gt;<span class='ref fn' title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</span>(<a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a>-&gt;<span class='ref fn' title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</span>()-&gt;<span class='ref fn' title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</span>()));</td></tr>
<tr><th id="148">148</th><td>    <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(!var_map_.count(op-&gt;buffer_var.get()))) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 148).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;!var_map_.count(op-&gt;buffer_var.get())&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(!<a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::var_map_" title='tvm::codegen::CodeGenLLVM::var_map_' data-ref="tvm::codegen::CodeGenLLVM::var_map_" data-ref-filename="tvm..codegen..CodeGenLLVM..var_map_">var_map_</a>.<a class="ref fn" href="../../../../include/c++/10/bits/unordered_map.h.html#_ZNKSt13unordered_map5countERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashE1001767" title='std::unordered_map::count' data-ref="_ZNKSt13unordered_map5countERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashE1001767" data-ref-filename="_ZNKSt13unordered_map5countERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashE1001767">count</a>(<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::buffer_var" title='tvm::tir::AllocateNode::buffer_var' data-ref="tvm::tir::AllocateNode::buffer_var" data-ref-filename="tvm..tir..AllocateNode..buffer_var">buffer_var</a>.<a class="ref fn" href="../../../include/tvm/tir/var.h.html#_ZNK3tvm3tir3Var3getEv" title='tvm::tir::Var::get' data-ref="_ZNK3tvm3tir3Var3getEv" data-ref-filename="_ZNK3tvm3tir3Var3getEv">get</a>()));</td></tr>
<tr><th id="149">149</th><td>    <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::var_map_" title='tvm::codegen::CodeGenLLVM::var_map_' data-ref="tvm::codegen::CodeGenLLVM::var_map_" data-ref-filename="tvm..codegen..CodeGenLLVM..var_map_">var_map_</a><a class="ref fn" href="../../../../include/c++/10/bits/unordered_map.h.html#_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" title='std::unordered_map::operator[]' data-ref="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" data-ref-filename="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368">[<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::buffer_var" title='tvm::tir::AllocateNode::buffer_var' data-ref="tvm::tir::AllocateNode::buffer_var" data-ref-filename="tvm..tir..AllocateNode..buffer_var">buffer_var</a>.<a class="ref fn" href="../../../include/tvm/tir/var.h.html#_ZNK3tvm3tir3Var3getEv" title='tvm::tir::Var::get' data-ref="_ZNK3tvm3tir3Var3getEv" data-ref-filename="_ZNK3tvm3tir3Var3getEv">get</a>()]</a> = <a class="local col8 ref" href="#288buf" title='buf' data-ref="288buf" data-ref-filename="288buf">buf</a>;</td></tr>
<tr><th id="150">150</th><td>    <b>this</b>-&gt;<a class="virtual member fn" href="../../../include/tvm/tir/stmt_functor.h.html#_ZN3tvm3tir11StmtFunctorIFT_RKNS0_4StmtEDpT0_EE9VisitStmtES5_S7_" title='tvm::tir::StmtFunctor&lt;type-parameter-0-0 (const tvm::tir::Stmt &amp;, type-parameter-0-1...)&gt;::VisitStmt' data-ref="_ZN3tvm3tir11StmtFunctorIFT_RKNS0_4StmtEDpT0_EE9VisitStmtES5_S7_" data-ref-filename="_ZN3tvm3tir11StmtFunctorIFT_RKNS0_4StmtEDpT0_EE9VisitStmtES5_S7_">VisitStmt</a>(<a class="local col7 ref" href="#287op" title='op' data-ref="287op" data-ref-filename="287op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/stmt.h.html#tvm::tir::AllocateNode::body" title='tvm::tir::AllocateNode::body' data-ref="tvm::tir::AllocateNode::body" data-ref-filename="tvm..tir..AllocateNode..body">body</a>);</td></tr>
<tr><th id="151">151</th><td>  }</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>  <i>// Return the thread index via intrinsics.</i></td></tr>
<tr><th id="154">154</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU14GetThreadIndexERKNS_3tir7IterVarE" title='tvm::codegen::CodeGenAMDGPU::GetThreadIndex' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU14GetThreadIndexERKNS_3tir7IterVarE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU14GetThreadIndexERKNS_3tir7IterVarE">GetThreadIndex</dfn>(<em>const</em> <a class="type" href="../../../include/tvm/tir/var.h.html#tvm::tir::IterVar" title='tvm::tir::IterVar' data-ref="tvm::tir::IterVar" data-ref-filename="tvm..tir..IterVar">IterVar</a>&amp; <dfn class="local col5 decl" id="295iv" title='iv' data-type='const tvm::tir::IterVar &amp;' data-ref="295iv" data-ref-filename="295iv">iv</dfn>) final {</td></tr>
<tr><th id="155">155</th><td>    <span class="namespace">runtime::</span><a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope" title='tvm::runtime::ThreadScope' data-ref="tvm::runtime::ThreadScope" data-ref-filename="tvm..runtime..ThreadScope">ThreadScope</a> <dfn class="local col6 decl" id="296ts" title='ts' data-type='runtime::ThreadScope' data-ref="296ts" data-ref-filename="296ts">ts</dfn> = <span class="namespace">runtime::</span><a class="type" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope" title='tvm::runtime::ThreadScope' data-ref="tvm::runtime::ThreadScope" data-ref-filename="tvm..runtime..ThreadScope">ThreadScope</a>::<a class="ref fn" href="../../runtime/thread_storage_scope.h.html#_ZN3tvm7runtime11ThreadScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='tvm::runtime::ThreadScope::Create' data-ref="_ZN3tvm7runtime11ThreadScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN3tvm7runtime11ThreadScope6CreateERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">Create</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/container/string.h.html#_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" title='tvm::runtime::String::operator basic_string' data-ref="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" data-ref-filename="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv"></a><a class="local col5 ref" href="#295iv" title='iv' data-ref="295iv" data-ref-filename="295iv">iv</a><a class="ref fn" href="../../../include/tvm/tir/var.h.html#310" title='tvm::tir::IterVar::operator-&gt;' data-ref="_ZNK3tvm3tir7IterVarptEv" data-ref-filename="_ZNK3tvm3tir7IterVarptEv">-&gt;</a><a class="ref field" href="../../../include/tvm/tir/var.h.html#tvm::tir::IterVarNode::thread_tag" title='tvm::tir::IterVarNode::thread_tag' data-ref="tvm::tir::IterVarNode::thread_tag" data-ref-filename="tvm..tir..IterVarNode..thread_tag">thread_tag</a>);</td></tr>
<tr><th id="156">156</th><td>    <span class="namespace">llvm::Intrinsic::</span><span class='typedef' title='llvm::Intrinsic::ID' data-type='unsigned int' data-ref="llvm::Intrinsic::ID" data-ref-filename="llvm..Intrinsic..ID">ID</span> <dfn class="local col7 decl" id="297intrin_id" title='intrin_id' data-type='llvm::Intrinsic::ID' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</dfn> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workitem_id_x' data-ref="llvm::Intrinsic::amdgcn_workitem_id_x" data-ref-filename="llvm..Intrinsic..amdgcn_workitem_id_x">amdgcn_workitem_id_x</span>;</td></tr>
<tr><th id="157">157</th><td>    <b>if</b> (<a class="local col6 ref" href="#296ts" title='ts' data-ref="296ts" data-ref-filename="296ts">ts</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope::rank" title='tvm::runtime::ThreadScope::rank' data-ref="tvm::runtime::ThreadScope::rank" data-ref-filename="tvm..runtime..ThreadScope..rank">rank</a> == <var>1</var>) {</td></tr>
<tr><th id="158">158</th><td>      <b>switch</b> (<a class="local col6 ref" href="#296ts" title='ts' data-ref="296ts" data-ref-filename="296ts">ts</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope::dim_index" title='tvm::runtime::ThreadScope::dim_index' data-ref="tvm::runtime::ThreadScope::dim_index" data-ref-filename="tvm..runtime..ThreadScope..dim_index">dim_index</a>) {</td></tr>
<tr><th id="159">159</th><td>        <b>case</b> <var>0</var>:</td></tr>
<tr><th id="160">160</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workitem_id_x' data-ref="llvm::Intrinsic::amdgcn_workitem_id_x" data-ref-filename="llvm..Intrinsic..amdgcn_workitem_id_x">amdgcn_workitem_id_x</span>;</td></tr>
<tr><th id="161">161</th><td>          <b>break</b>;</td></tr>
<tr><th id="162">162</th><td>        <b>case</b> <var>1</var>:</td></tr>
<tr><th id="163">163</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workitem_id_y' data-ref="llvm::Intrinsic::amdgcn_workitem_id_y" data-ref-filename="llvm..Intrinsic..amdgcn_workitem_id_y">amdgcn_workitem_id_y</span>;</td></tr>
<tr><th id="164">164</th><td>          <b>break</b>;</td></tr>
<tr><th id="165">165</th><td>        <b>case</b> <var>2</var>:</td></tr>
<tr><th id="166">166</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workitem_id_z' data-ref="llvm::Intrinsic::amdgcn_workitem_id_z" data-ref-filename="llvm..Intrinsic..amdgcn_workitem_id_z">amdgcn_workitem_id_z</span>;</td></tr>
<tr><th id="167">167</th><td>          <b>break</b>;</td></tr>
<tr><th id="168">168</th><td>        <b>default</b>:</td></tr>
<tr><th id="169">169</th><td>          <a class="macro" href="../../../include/tvm/runtime/logging.h.html#571" title="::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 169).stream()" data-ref="_M/LOG">LOG</a>(FATAL) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"unknown workitem idx"</q>;</td></tr>
<tr><th id="170">170</th><td>      }</td></tr>
<tr><th id="171">171</th><td>    } <b>else</b> {</td></tr>
<tr><th id="172">172</th><td>      <a class="macro" href="../../../include/tvm/runtime/logging.h.html#690" title="if (auto __tvm__log__err = ::tvm::runtime::detail::LogCheck_EQ(ts.rank, 0)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 172).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; std::endl &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: &quot; &lt;&lt; &quot;ts.rank&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;0&quot; &lt;&lt; *__tvm__log__err &lt;&lt; &quot;: &quot;" data-ref="_M/ICHECK_EQ">ICHECK_EQ</a>(<a class="local col6 ref" href="#296ts" title='ts' data-ref="296ts" data-ref-filename="296ts">ts</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope::rank" title='tvm::runtime::ThreadScope::rank' data-ref="tvm::runtime::ThreadScope::rank" data-ref-filename="tvm..runtime..ThreadScope..rank">rank</a>, <var>0</var>);</td></tr>
<tr><th id="173">173</th><td>      <b>switch</b> (<a class="local col6 ref" href="#296ts" title='ts' data-ref="296ts" data-ref-filename="296ts">ts</a>.<a class="ref field" href="../../runtime/thread_storage_scope.h.html#tvm::runtime::ThreadScope::dim_index" title='tvm::runtime::ThreadScope::dim_index' data-ref="tvm::runtime::ThreadScope::dim_index" data-ref-filename="tvm..runtime..ThreadScope..dim_index">dim_index</a>) {</td></tr>
<tr><th id="174">174</th><td>        <b>case</b> <var>0</var>:</td></tr>
<tr><th id="175">175</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workgroup_id_x' data-ref="llvm::Intrinsic::amdgcn_workgroup_id_x" data-ref-filename="llvm..Intrinsic..amdgcn_workgroup_id_x">amdgcn_workgroup_id_x</span>;</td></tr>
<tr><th id="176">176</th><td>          <b>break</b>;</td></tr>
<tr><th id="177">177</th><td>        <b>case</b> <var>1</var>:</td></tr>
<tr><th id="178">178</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workgroup_id_y' data-ref="llvm::Intrinsic::amdgcn_workgroup_id_y" data-ref-filename="llvm..Intrinsic..amdgcn_workgroup_id_y">amdgcn_workgroup_id_y</span>;</td></tr>
<tr><th id="179">179</th><td>          <b>break</b>;</td></tr>
<tr><th id="180">180</th><td>        <b>case</b> <var>2</var>:</td></tr>
<tr><th id="181">181</th><td>          <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a> = <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_workgroup_id_z' data-ref="llvm::Intrinsic::amdgcn_workgroup_id_z" data-ref-filename="llvm..Intrinsic..amdgcn_workgroup_id_z">amdgcn_workgroup_id_z</span>;</td></tr>
<tr><th id="182">182</th><td>          <b>break</b>;</td></tr>
<tr><th id="183">183</th><td>        <b>default</b>:</td></tr>
<tr><th id="184">184</th><td>          <a class="macro" href="../../../include/tvm/runtime/logging.h.html#571" title="::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 184).stream()" data-ref="_M/LOG">LOG</a>(FATAL) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"unknown workgroup idx"</q>;</td></tr>
<tr><th id="185">185</th><td>      }</td></tr>
<tr><th id="186">186</th><td>    }</td></tr>
<tr><th id="187">187</th><td>    <span class="namespace">llvm::</span><span class='type' title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</span>* <dfn class="local col8 decl" id="298f" title='f' data-type='llvm::Function *' data-ref="298f" data-ref-filename="298f">f</dfn> = <span class="namespace">llvm::Intrinsic::</span><span class='ref fn' title='llvm::Intrinsic::getDeclaration' data-ref="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE" data-ref-filename="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE">getDeclaration</span>(<a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::module_" title='tvm::codegen::CodeGenLLVM::module_' data-ref="tvm::codegen::CodeGenLLVM::module_" data-ref-filename="tvm..codegen..CodeGenLLVM..module_">module_</a>.<a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv" data-ref-filename="_ZNKSt10unique_ptr3getEv">get</a>(), <a class="local col7 ref" href="#297intrin_id" title='intrin_id' data-ref="297intrin_id" data-ref-filename="297intrin_id">intrin_id</a>);</td></tr>
<tr><th id="188">188</th><td>    <b>return</b> <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreateCall' data-ref="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE">CreateCall</span>(<span class='ref fn fake' title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1EPT_" data-ref-filename="_ZN4llvm14FunctionCalleeC1EPT_"></span><a class="local col8 ref" href="#298f" title='f' data-ref="298f" data-ref-filename="298f">f</a>, <span class='ref fn' title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev">{</span>});</td></tr>
<tr><th id="189">189</th><td>  }</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU17CreateStorageSyncEPKNS_3tir8CallNodeE" title='tvm::codegen::CodeGenAMDGPU::CreateStorageSync' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU17CreateStorageSyncEPKNS_3tir8CallNodeE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU17CreateStorageSyncEPKNS_3tir8CallNodeE">CreateStorageSync</dfn>(<em>const</em> <a class="type" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode" title='tvm::tir::CallNode' data-ref="tvm::tir::CallNode" data-ref-filename="tvm..tir..CallNode">CallNode</a>* <dfn class="local col9 decl" id="299op" title='op' data-type='const tvm::tir::CallNode *' data-ref="299op" data-ref-filename="299op">op</dfn>) final {</td></tr>
<tr><th id="192">192</th><td>    <em>const</em> <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a>&amp; <dfn class="local col0 decl" id="300sync" title='sync' data-type='const std::string &amp;' data-ref="300sync" data-ref-filename="300sync">sync</dfn> = <a class="ref fn fake" href="../../../include/tvm/runtime/container/string.h.html#_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" title='tvm::runtime::String::operator basic_string' data-ref="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" data-ref-filename="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv"></a><a class="local col9 ref" href="#299op" title='op' data-ref="299op" data-ref-filename="299op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::args" title='tvm::tir::CallNode::args' data-ref="tvm::tir::CallNode::args" data-ref-filename="tvm..tir..CallNode..args">args</a><a class="ref fn" href="../../../include/tvm/runtime/container/array.h.html#_ZNK3tvm7runtime5ArrayixEl" title='tvm::runtime::Array::operator[]' data-ref="_ZNK3tvm7runtime5ArrayixEl" data-ref-filename="_ZNK3tvm7runtime5ArrayixEl">[<var>0</var>]</a>.<a class="ref fn" href="../../../include/tvm/runtime/object.h.html#_ZNK3tvm7runtime9ObjectRef2asEv" title='tvm::runtime::ObjectRef::as' data-ref="_ZNK3tvm7runtime9ObjectRef2asEv" data-ref-filename="_ZNK3tvm7runtime9ObjectRef2asEv">as</a>&lt;<a class="type" href="../../../include/tvm/tir/expr.h.html#tvm::tir::StringImmNode" title='tvm::tir::StringImmNode' data-ref="tvm::tir::StringImmNode" data-ref-filename="tvm..tir..StringImmNode">StringImmNode</a>&gt;()-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::StringImmNode::value" title='tvm::tir::StringImmNode::value' data-ref="tvm::tir::StringImmNode::value" data-ref-filename="tvm..tir..StringImmNode..value">value</a>;</td></tr>
<tr><th id="193">193</th><td>    <b>if</b> (<a class="local col0 ref" href="#300sync" title='sync' data-ref="300sync" data-ref-filename="300sync">sync</a> <a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" title='std::operator==' data-ref="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">==</a> <q>"warp"</q>) {</td></tr>
<tr><th id="194">194</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="195">195</th><td>    } <b>else</b> <b>if</b> (<a class="local col0 ref" href="#300sync" title='sync' data-ref="300sync" data-ref-filename="300sync">sync</a> <a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" title='std::operator==' data-ref="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZSteqRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">==</a> <q>"shared"</q>) {</td></tr>
<tr><th id="196">196</th><td>      <span class="namespace">llvm::</span><span class='type' title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</span>* <dfn class="local col1 decl" id="301f" title='f' data-type='llvm::Function *' data-ref="301f" data-ref-filename="301f">f</dfn> =</td></tr>
<tr><th id="197">197</th><td>          <span class="namespace">llvm::Intrinsic::</span><span class='ref fn' title='llvm::Intrinsic::getDeclaration' data-ref="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE" data-ref-filename="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE">getDeclaration</span>(<a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::module_" title='tvm::codegen::CodeGenLLVM::module_' data-ref="tvm::codegen::CodeGenLLVM::module_" data-ref-filename="tvm..codegen..CodeGenLLVM..module_">module_</a>.<a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv" data-ref-filename="_ZNKSt10unique_ptr3getEv">get</a>(), <span class="namespace">llvm::Intrinsic::</span><span class='enum' title='llvm::Intrinsic::amdgcn_s_barrier' data-ref="llvm::Intrinsic::amdgcn_s_barrier" data-ref-filename="llvm..Intrinsic..amdgcn_s_barrier">amdgcn_s_barrier</span>);</td></tr>
<tr><th id="198">198</th><td>      <b>return</b> <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreateCall' data-ref="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE">CreateCall</span>(<span class='ref fn fake' title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1EPT_" data-ref-filename="_ZN4llvm14FunctionCalleeC1EPT_"></span><a class="local col1 ref" href="#301f" title='f' data-ref="301f" data-ref-filename="301f">f</a>, <span class='ref fn' title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev">{</span>});</td></tr>
<tr><th id="199">199</th><td>    } <b>else</b> {</td></tr>
<tr><th id="200">200</th><td>      <a class="macro" href="../../../include/tvm/runtime/logging.h.html#571" title="::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 200).stream()" data-ref="_M/LOG">LOG</a>(FATAL) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Do not support sync "</q> <a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKNSt7__cxx1112basic_stringIS0_S1_T1_EE" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKNSt7__cxx1112basic_stringIS0_S1_T1_EE" data-ref-filename="_ZStlsRSt13basic_ostreamIT_T0_ERKNSt7__cxx1112basic_stringIS0_S1_T1_EE">&lt;&lt;</a> <a class="local col0 ref" href="#300sync" title='sync' data-ref="300sync" data-ref-filename="300sync">sync</a>;</td></tr>
<tr><th id="201">201</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="202">202</th><td>    }</td></tr>
<tr><th id="203">203</th><td>  }</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td>  <em>void</em> <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU22InitPassManagerBuilderEPN4llvm18PassManagerBuilderE" title='tvm::codegen::CodeGenAMDGPU::InitPassManagerBuilder' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU22InitPassManagerBuilderEPN4llvm18PassManagerBuilderE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU22InitPassManagerBuilderEPN4llvm18PassManagerBuilderE">InitPassManagerBuilder</dfn>(<span class="namespace">llvm::</span><span class='type' title='llvm::PassManagerBuilder' data-ref="llvm::PassManagerBuilder" data-ref-filename="llvm..PassManagerBuilder">PassManagerBuilder</span>* <dfn class="local col2 decl" id="302builder" title='builder' data-type='llvm::PassManagerBuilder *' data-ref="302builder" data-ref-filename="302builder">builder</dfn>) final {</td></tr>
<tr><th id="206">206</th><td>    <i>// Additional optimization hook to tweak the builder.</i></td></tr>
<tr><th id="207">207</th><td>  }</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>  <em>unsigned</em> <dfn class="virtual decl def fn" id="_ZNK3tvm7codegen13CodeGenAMDGPU21GetGlobalAddressSpaceEv" title='tvm::codegen::CodeGenAMDGPU::GetGlobalAddressSpace' data-ref="_ZNK3tvm7codegen13CodeGenAMDGPU21GetGlobalAddressSpaceEv" data-ref-filename="_ZNK3tvm7codegen13CodeGenAMDGPU21GetGlobalAddressSpaceEv">GetGlobalAddressSpace</dfn>() <em>const</em> final { <b>return</b> <var>1</var>; }</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU15CreateIntrinsicEPKNS_3tir8CallNodeE" title='tvm::codegen::CodeGenAMDGPU::CreateIntrinsic' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU15CreateIntrinsicEPKNS_3tir8CallNodeE" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU15CreateIntrinsicEPKNS_3tir8CallNodeE">CreateIntrinsic</dfn>(<em>const</em> <a class="type" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode" title='tvm::tir::CallNode' data-ref="tvm::tir::CallNode" data-ref-filename="tvm..tir..CallNode">CallNode</a>* <dfn class="local col3 decl" id="303op" title='op' data-type='const tvm::tir::CallNode *' data-ref="303op" data-ref-filename="303op">op</dfn>) final {</td></tr>
<tr><th id="212">212</th><td>    <b>if</b> (<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::op" title='tvm::tir::CallNode::op' data-ref="tvm::tir::CallNode::op" data-ref-filename="tvm..tir..CallNode..op">op</a>.<a class="ref fn" href="../../../include/tvm/runtime/object.h.html#_ZNK3tvm7runtime9ObjectRef7same_asERKS1_" title='tvm::runtime::ObjectRef::same_as' data-ref="_ZNK3tvm7runtime9ObjectRef7same_asERKS1_" data-ref-filename="_ZNK3tvm7runtime9ObjectRef7same_asERKS1_">same_as</a>(<span class="namespace">builtin::</span><a class="ref fn" href="../../../include/tvm/tir/builtin.h.html#_ZN3tvm3tir7builtin10atomic_addEv" title='tvm::tir::builtin::atomic_add' data-ref="_ZN3tvm3tir7builtin10atomic_addEv" data-ref-filename="_ZN3tvm3tir7builtin10atomic_addEv">atomic_add</a>())) {</td></tr>
<tr><th id="213">213</th><td>      <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(op-&gt;args[1]-&gt;dtype.bits() == 32)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 213).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;op-&gt;args[1]-&gt;dtype.bits() == 32&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::args" title='tvm::tir::CallNode::args' data-ref="tvm::tir::CallNode::args" data-ref-filename="tvm..tir..CallNode..args">args</a>[<var>1</var>]<a class="ref fn" href="../../../include/tvm/ir/expr.h.html#128" title='tvm::PrimExpr::operator-&gt;' data-ref="_ZNK3tvm8PrimExprptEv" data-ref-filename="_ZNK3tvm8PrimExprptEv">-&gt;</a><a class="ref field" href="../../../include/tvm/ir/expr.h.html#tvm::PrimExprNode::dtype" title='tvm::PrimExprNode::dtype' data-ref="tvm::PrimExprNode::dtype" data-ref-filename="tvm..PrimExprNode..dtype">dtype</a>.<a class="ref fn" href="../../../include/tvm/runtime/data_type.h.html#_ZNK3tvm7runtime8DataType4bitsEv" title='tvm::runtime::DataType::bits' data-ref="_ZNK3tvm7runtime8DataType4bitsEv" data-ref-filename="_ZNK3tvm7runtime8DataType4bitsEv">bits</a>() == <var>32</var>) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Only supports 32 bit atomic for now"</q>;</td></tr>
<tr><th id="214">214</th><td>      <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="local col4 decl" id="304v0" title='v0' data-type='llvm::Value *' data-ref="304v0" data-ref-filename="304v0">v0</dfn> = <a class="member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE" title='tvm::codegen::CodeGenLLVM::MakeValue' data-ref="_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE">MakeValue</a>(<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::args" title='tvm::tir::CallNode::args' data-ref="tvm::tir::CallNode::args" data-ref-filename="tvm..tir..CallNode..args">args</a><a class="ref fn" href="../../../include/tvm/runtime/container/array.h.html#_ZNK3tvm7runtime5ArrayixEl" title='tvm::runtime::Array::operator[]' data-ref="_ZNK3tvm7runtime5ArrayixEl" data-ref-filename="_ZNK3tvm7runtime5ArrayixEl">[<var>0</var>]</a>);</td></tr>
<tr><th id="215">215</th><td>      <span class="namespace">llvm::</span><span class='type' title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</span>* <dfn class="local col5 decl" id="305v1" title='v1' data-type='llvm::Value *' data-ref="305v1" data-ref-filename="305v1">v1</dfn> = <a class="member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE" title='tvm::codegen::CodeGenLLVM::MakeValue' data-ref="_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM9MakeValueERKNS_8PrimExprE">MakeValue</a>(<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::args" title='tvm::tir::CallNode::args' data-ref="tvm::tir::CallNode::args" data-ref-filename="tvm..tir..CallNode..args">args</a><a class="ref fn" href="../../../include/tvm/runtime/container/array.h.html#_ZNK3tvm7runtime5ArrayixEl" title='tvm::runtime::Array::operator[]' data-ref="_ZNK3tvm7runtime5ArrayixEl" data-ref-filename="_ZNK3tvm7runtime5ArrayixEl">[<var>1</var>]</a>);</td></tr>
<tr><th id="216">216</th><td>      <b>if</b> (<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>-&gt;<a class="ref field" href="../../../include/tvm/tir/expr.h.html#tvm::tir::CallNode::args" title='tvm::tir::CallNode::args' data-ref="tvm::tir::CallNode::args" data-ref-filename="tvm..tir..CallNode..args">args</a><a class="ref fn" href="../../../include/tvm/runtime/container/array.h.html#_ZNK3tvm7runtime5ArrayixEl" title='tvm::runtime::Array::operator[]' data-ref="_ZNK3tvm7runtime5ArrayixEl" data-ref-filename="_ZNK3tvm7runtime5ArrayixEl">[<var>1</var>]</a><a class="ref fn" href="../../../include/tvm/ir/expr.h.html#128" title='tvm::PrimExpr::operator-&gt;' data-ref="_ZNK3tvm8PrimExprptEv" data-ref-filename="_ZNK3tvm8PrimExprptEv">-&gt;</a><a class="ref field" href="../../../include/tvm/ir/expr.h.html#tvm::PrimExprNode::dtype" title='tvm::PrimExprNode::dtype' data-ref="tvm::PrimExprNode::dtype" data-ref-filename="tvm..PrimExprNode..dtype">dtype</a>.<a class="ref fn" href="../../../include/tvm/runtime/data_type.h.html#_ZNK3tvm7runtime8DataType8is_floatEv" title='tvm::runtime::DataType::is_float' data-ref="_ZNK3tvm7runtime8DataType8is_floatEv" data-ref-filename="_ZNK3tvm7runtime8DataType8is_floatEv">is_float</a>()) {</td></tr>
<tr><th id="217">217</th><td><u>#<span data-ppcond="217">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 90</u></td></tr>
<tr><th id="218">218</th><td><u>#<span data-ppcond="218">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 130</u></td></tr>
<tr><th id="219">219</th><td>        <b>return</b> <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreateAtomicRMW' data-ref="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_10MaybeAlignENS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_10MaybeAlignENS_14AtomicOrderingEh">CreateAtomicRMW</span>(<span class="namespace">llvm::</span><span class='type' title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</span>::<span class='enum' title='llvm::AtomicRMWInst::FAdd' data-ref="llvm::AtomicRMWInst::FAdd" data-ref-filename="llvm..AtomicRMWInst..FAdd">FAdd</span>, <a class="local col4 ref" href="#304v0" title='v0' data-ref="304v0" data-ref-filename="304v0">v0</a>, <a class="local col5 ref" href="#305v1" title='v1' data-ref="305v1" data-ref-filename="305v1">v1</a>, <span class="namespace">llvm::</span><span class='type' title='llvm::MaybeAlign' data-ref="llvm::MaybeAlign" data-ref-filename="llvm..MaybeAlign">MaybeAlign</span><span class='ref fn' title='llvm::MaybeAlign::MaybeAlign' data-ref="_ZN4llvm10MaybeAlignC1Ev" data-ref-filename="_ZN4llvm10MaybeAlignC1Ev">(</span>),</td></tr>
<tr><th id="220">220</th><td>                                         <span class="namespace">llvm::</span><span class='type' title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</span>::<span class='enum' title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</span>);</td></tr>
<tr><th id="221">221</th><td><u>#<span data-ppcond="218">else</span></u></td></tr>
<tr><th id="222">222</th><td>        <b>return</b> builder_-&gt;CreateAtomicRMW(llvm::AtomicRMWInst::FAdd, v0, v1,</td></tr>
<tr><th id="223">223</th><td>                                         llvm::AtomicOrdering::Monotonic);</td></tr>
<tr><th id="224">224</th><td><u>#<span data-ppcond="218">endif</span></u></td></tr>
<tr><th id="225">225</th><td><u>#<span data-ppcond="217">else</span></u></td></tr>
<tr><th id="226">226</th><td>        LOG(FATAL) &lt;&lt; <q>"Floating point atomic requires LLVM 9 or newer"</q>;</td></tr>
<tr><th id="227">227</th><td><u>#<span data-ppcond="217">endif</span></u></td></tr>
<tr><th id="228">228</th><td>      }</td></tr>
<tr><th id="229">229</th><td><u>#<span data-ppcond="229">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &gt;= 130</u></td></tr>
<tr><th id="230">230</th><td>      <b>return</b> <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::builder_" title='tvm::codegen::CodeGenLLVM::builder_' data-ref="tvm::codegen::CodeGenLLVM::builder_" data-ref-filename="tvm..codegen..CodeGenLLVM..builder_">builder_</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::IRBuilderBase::CreateAtomicRMW' data-ref="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_10MaybeAlignENS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_10MaybeAlignENS_14AtomicOrderingEh">CreateAtomicRMW</span>(<span class="namespace">llvm::</span><span class='type' title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</span>::<span class='enum' title='llvm::AtomicRMWInst::Add' data-ref="llvm::AtomicRMWInst::Add" data-ref-filename="llvm..AtomicRMWInst..Add">Add</span>, <a class="local col4 ref" href="#304v0" title='v0' data-ref="304v0" data-ref-filename="304v0">v0</a>, <a class="local col5 ref" href="#305v1" title='v1' data-ref="305v1" data-ref-filename="305v1">v1</a>, <span class="namespace">llvm::</span><span class='type' title='llvm::MaybeAlign' data-ref="llvm::MaybeAlign" data-ref-filename="llvm..MaybeAlign">MaybeAlign</span><span class='ref fn' title='llvm::MaybeAlign::MaybeAlign' data-ref="_ZN4llvm10MaybeAlignC1Ev" data-ref-filename="_ZN4llvm10MaybeAlignC1Ev">(</span>),</td></tr>
<tr><th id="231">231</th><td>                                       <span class="namespace">llvm::</span><span class='type' title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</span>::<span class='enum' title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</span>);</td></tr>
<tr><th id="232">232</th><td><u>#<span data-ppcond="229">else</span></u></td></tr>
<tr><th id="233">233</th><td>      <b>return</b> builder_-&gt;CreateAtomicRMW(llvm::AtomicRMWInst::Add, v0, v1,</td></tr>
<tr><th id="234">234</th><td>                                       llvm::AtomicOrdering::Monotonic);</td></tr>
<tr><th id="235">235</th><td><u>#<span data-ppcond="229">endif</span></u></td></tr>
<tr><th id="236">236</th><td>    }</td></tr>
<tr><th id="237">237</th><td>    <b>return</b> <a class="type" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM" title='tvm::codegen::CodeGenLLVM' data-ref="tvm::codegen::CodeGenLLVM" data-ref-filename="tvm..codegen..CodeGenLLVM">CodeGenLLVM</a>::<a class="virtual member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM15CreateIntrinsicEPKNS_3tir8CallNodeE" title='tvm::codegen::CodeGenLLVM::CreateIntrinsic' data-ref="_ZN3tvm7codegen11CodeGenLLVM15CreateIntrinsicEPKNS_3tir8CallNodeE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM15CreateIntrinsicEPKNS_3tir8CallNodeE">CreateIntrinsic</a>(<a class="local col3 ref" href="#303op" title='op' data-ref="303op" data-ref-filename="303op">op</a>);</td></tr>
<tr><th id="238">238</th><td>  }</td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td> <b>protected</b>:</td></tr>
<tr><th id="241">241</th><td>  <em>void</em> <dfn class="virtual decl def fn" id="_ZN3tvm7codegen13CodeGenAMDGPU10InitTargetEv" title='tvm::codegen::CodeGenAMDGPU::InitTarget' data-ref="_ZN3tvm7codegen13CodeGenAMDGPU10InitTargetEv" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPU10InitTargetEv">InitTarget</dfn>() final {</td></tr>
<tr><th id="242">242</th><td>    <i>// Maximum vector lane = float4</i></td></tr>
<tr><th id="243">243</th><td>    <a class="member field" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM::native_vector_bits_" title='tvm::codegen::CodeGenLLVM::native_vector_bits_' data-ref="tvm::codegen::CodeGenLLVM::native_vector_bits_" data-ref-filename="tvm..codegen..CodeGenLLVM..native_vector_bits_">native_vector_bits_</a> = <var>4</var> * <var>32</var>;</td></tr>
<tr><th id="244">244</th><td>    <a class="type" href="codegen_llvm.h.html#tvm::codegen::CodeGenLLVM" title='tvm::codegen::CodeGenLLVM' data-ref="tvm::codegen::CodeGenLLVM" data-ref-filename="tvm..codegen..CodeGenLLVM">CodeGenLLVM</a>::<a class="virtual member fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM10InitTargetEv" title='tvm::codegen::CodeGenLLVM::InitTarget' data-ref="_ZN3tvm7codegen11CodeGenLLVM10InitTargetEv" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM10InitTargetEv">InitTarget</a>();</td></tr>
<tr><th id="245">245</th><td>  }</td></tr>
<tr><th id="246">246</th><td>};</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td><span class="namespace">runtime::</span><a class="type" href="../../../include/tvm/runtime/module.h.html#tvm::runtime::Module" title='tvm::runtime::Module' data-ref="tvm::runtime::Module" data-ref-filename="tvm..runtime..Module">Module</a> <dfn class="decl def fn" id="_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE" title='tvm::codegen::BuildAMDGPU' data-ref="_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE" data-ref-filename="_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE">BuildAMDGPU</dfn>(<a class="type" href="../../../include/tvm/ir/module.h.html#tvm::IRModule" title='tvm::IRModule' data-ref="tvm::IRModule" data-ref-filename="tvm..IRModule">IRModule</a> <dfn class="local col6 decl" id="306mod" title='mod' data-type='tvm::IRModule' data-ref="306mod" data-ref-filename="306mod">mod</dfn>, <a class="type" href="../../../include/tvm/target/target.h.html#tvm::Target" title='tvm::Target' data-ref="tvm::Target" data-ref-filename="tvm..Target">Target</a> <dfn class="local col7 decl" id="307target" title='target' data-type='tvm::Target' data-ref="307target" data-ref-filename="307target">target</dfn>) {</td></tr>
<tr><th id="249">249</th><td>  <a class="type" href="llvm_instance.h.html#tvm::codegen::LLVMInstance" title='tvm::codegen::LLVMInstance' data-ref="tvm::codegen::LLVMInstance" data-ref-filename="tvm..codegen..LLVMInstance">LLVMInstance</a> <a class="ref fn fake" href="llvm_instance.h.html#_ZN3tvm7codegen12LLVMInstanceC1Ev" title='tvm::codegen::LLVMInstance::LLVMInstance' data-ref="_ZN3tvm7codegen12LLVMInstanceC1Ev" data-ref-filename="_ZN3tvm7codegen12LLVMInstanceC1Ev"></a><dfn class="local col8 decl" id="308llvm_instance" title='llvm_instance' data-type='tvm::codegen::LLVMInstance' data-ref="308llvm_instance" data-ref-filename="308llvm_instance">llvm_instance</dfn>;</td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td>  <a class="type" href="../../../include/tvm/support/with.h.html#tvm::With" title='tvm::With' data-ref="tvm::With" data-ref-filename="tvm..With">With</a>&lt;<a class="type" href="llvm_instance.h.html#tvm::codegen::LLVMTarget" title='tvm::codegen::LLVMTarget' data-ref="tvm::codegen::LLVMTarget" data-ref-filename="tvm..codegen..LLVMTarget">LLVMTarget</a>&gt; <dfn class="local col9 decl" id="309llvm_target" title='llvm_target' data-type='With&lt;tvm::codegen::LLVMTarget&gt;' data-ref="309llvm_target" data-ref-filename="309llvm_target">llvm_target</dfn><a class="ref fn" href="../../../include/tvm/support/with.h.html#_ZN3tvm4WithC1EDpOTL0__" title='tvm::With::With&lt;ContextType&gt;' data-ref="_ZN3tvm4WithC1EDpOTL0__" data-ref-filename="_ZN3tvm4WithC1EDpOTL0__">(</a><a class="local col8 ref" href="#308llvm_instance" title='llvm_instance' data-ref="308llvm_instance" data-ref-filename="308llvm_instance">llvm_instance</a>, <a class="local col7 ref" href="#307target" title='target' data-ref="307target" data-ref-filename="307target">target</a>);</td></tr>
<tr><th id="252">252</th><td><u>#<span data-ppcond="252">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt; 90</u></td></tr>
<tr><th id="253">253</th><td>  LOG(FATAL) &lt;&lt; <q>"AMDGPU backend requires at least LLVM 9"</q>;</td></tr>
<tr><th id="254">254</th><td>  <i>// Lower versions will crash when loading the bitcode, see</i></td></tr>
<tr><th id="255">255</th><td><i>  // issue #4087 for a discussion</i></td></tr>
<tr><th id="256">256</th><td><u>#<span data-ppcond="252">endif</span></u></td></tr>
<tr><th id="257">257</th><td>  <em>auto</em> <dfn class="local col0 decl" id="310cg" title='cg' data-type='typename _MakeUniq&lt;CodeGenAMDGPU&gt;::__single_object' data-ref="310cg" data-ref-filename="310cg">cg</dfn> = <span class="namespace">std::</span><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZSt11make_uniqueDpOT0_" title='std::make_unique' data-ref="_ZSt11make_uniqueDpOT0_" data-ref-filename="_ZSt11make_uniqueDpOT0_">make_unique</a>&lt;<a class="type" href="#tvm::codegen::CodeGenAMDGPU" title='tvm::codegen::CodeGenAMDGPU' data-ref="tvm::codegen::CodeGenAMDGPU" data-ref-filename="tvm..codegen..CodeGenAMDGPU">CodeGenAMDGPU</a>&gt;();</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>  <a class="local col0 ref" href="#310cg" title='cg' data-ref="310cg" data-ref-filename="310cg">cg</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="virtual ref fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM4InitERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPNS0_10LLVMTargetEbbb" title='tvm::codegen::CodeGenLLVM::Init' data-ref="_ZN3tvm7codegen11CodeGenLLVM4InitERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPNS0_10LLVMTargetEbbb" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM4InitERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPNS0_10LLVMTargetEbbb">Init</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"TVMAMDGPUModule"</q>, <a class="local col9 ref" href="#309llvm_target" title='llvm_target' data-ref="309llvm_target" data-ref-filename="309llvm_target">llvm_target</a>.<a class="ref fn" href="../../../include/tvm/support/with.h.html#_ZN3tvm4With3getEv" title='tvm::With::get' data-ref="_ZN3tvm4With3getEv" data-ref-filename="_ZN3tvm4With3getEv">get</a>(), <b>false</b>, <b>false</b>, <b>false</b>);</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td>  <a class="local col0 ref" href="#310cg" title='cg' data-ref="310cg" data-ref-filename="310cg">cg</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="tu ref fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM19AddFunctionsOrderedET_S2_T0_" title='tvm::codegen::CodeGenLLVM::AddFunctionsOrdered' data-use='c' data-ref="_ZN3tvm7codegen11CodeGenLLVM19AddFunctionsOrderedET_S2_T0_" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM19AddFunctionsOrderedET_S2_T0_">AddFunctionsOrdered</a>(<a class="local col6 ref" href="#306mod" title='mod' data-ref="306mod" data-ref-filename="306mod">mod</a><a class="ref fn" href="../../../include/tvm/ir/module.h.html#_ZNK3tvm8IRModuleptEv" title='tvm::IRModule::operator-&gt;' data-ref="_ZNK3tvm8IRModuleptEv" data-ref-filename="_ZNK3tvm8IRModuleptEv">-&gt;</a><a class="ref field" href="../../../include/tvm/ir/module.h.html#tvm::IRModuleNode::functions" title='tvm::IRModuleNode::functions' data-ref="tvm::IRModuleNode::functions" data-ref-filename="tvm..IRModuleNode..functions">functions</a>.<a class="ref fn" href="../../../include/tvm/runtime/container/map.h.html#_ZNK3tvm7runtime3Map5beginEv" title='tvm::runtime::Map::begin' data-ref="_ZNK3tvm7runtime3Map5beginEv" data-ref-filename="_ZNK3tvm7runtime3Map5beginEv">begin</a>(), <a class="local col6 ref" href="#306mod" title='mod' data-ref="306mod" data-ref-filename="306mod">mod</a><a class="ref fn" href="../../../include/tvm/ir/module.h.html#_ZNK3tvm8IRModuleptEv" title='tvm::IRModule::operator-&gt;' data-ref="_ZNK3tvm8IRModuleptEv" data-ref-filename="_ZNK3tvm8IRModuleptEv">-&gt;</a><a class="ref field" href="../../../include/tvm/ir/module.h.html#tvm::IRModuleNode::functions" title='tvm::IRModuleNode::functions' data-ref="tvm::IRModuleNode::functions" data-ref-filename="tvm..IRModuleNode..functions">functions</a>.<a class="ref fn" href="../../../include/tvm/runtime/container/map.h.html#_ZNK3tvm7runtime3Map3endEv" title='tvm::runtime::Map::end' data-ref="_ZNK3tvm7runtime3Map3endEv" data-ref-filename="_ZNK3tvm7runtime3Map3endEv">end</a>(), [](<em>auto</em>&amp; <dfn class="local col1 decl" id="311kv" title='kv' data-type='auto &amp;' data-ref="311kv" data-ref-filename="311kv">kv</dfn>) {</td></tr>
<tr><th id="262">262</th><td>    <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(kv.second-&gt;template IsInstance&lt;PrimFuncNode&gt;())) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 262).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;kv.second-&gt;template IsInstance&lt;PrimFuncNode&gt;()&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col1 ref" href="#311kv" title='kv' data-ref="311kv" data-ref-filename="311kv">kv</a>.second-&gt;<b>template</b> IsInstance&lt;<a class="type" href="../../../include/tvm/tir/function.h.html#tvm::tir::PrimFuncNode" title='tvm::tir::PrimFuncNode' data-ref="tvm::tir::PrimFuncNode" data-ref-filename="tvm..tir..PrimFuncNode">PrimFuncNode</a>&gt;())</td></tr>
<tr><th id="263">263</th><td>        <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Can only lower IR Module with PrimFuncs"</q>;</td></tr>
<tr><th id="264">264</th><td>    <b>return</b> Downcast&lt;<a class="type" href="../../../include/tvm/tir/function.h.html#tvm::tir::PrimFunc" title='tvm::tir::PrimFunc' data-ref="tvm::tir::PrimFunc" data-ref-filename="tvm..tir..PrimFunc">PrimFunc</a>&gt;(<a class="local col1 ref" href="#311kv" title='kv' data-ref="311kv" data-ref-filename="311kv">kv</a>.second);</td></tr>
<tr><th id="265">265</th><td>  });</td></tr>
<tr><th id="266">266</th><td></td></tr>
<tr><th id="267">267</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::TargetMachine' data-ref="llvm::TargetMachine" data-ref-filename="llvm..TargetMachine">TargetMachine</span>* <dfn class="local col2 decl" id="312tm" title='tm' data-type='llvm::TargetMachine *' data-ref="312tm" data-ref-filename="312tm">tm</dfn> = <a class="local col9 ref" href="#309llvm_target" title='llvm_target' data-ref="309llvm_target" data-ref-filename="309llvm_target">llvm_target</a><a class="ref fn" href="../../../include/tvm/support/with.h.html#_ZN3tvm4WithptEv" title='tvm::With::operator-&gt;' data-ref="_ZN3tvm4WithptEv" data-ref-filename="_ZN3tvm4WithptEv">-&gt;</a><a class="ref fn" href="llvm_instance.h.html#_ZN3tvm7codegen14LLVMTargetInfo24GetOrCreateTargetMachineEb" title='tvm::codegen::LLVMTargetInfo::GetOrCreateTargetMachine' data-ref="_ZN3tvm7codegen14LLVMTargetInfo24GetOrCreateTargetMachineEb" data-ref-filename="_ZN3tvm7codegen14LLVMTargetInfo24GetOrCreateTargetMachineEb">GetOrCreateTargetMachine</a>();</td></tr>
<tr><th id="268">268</th><td>  <em>const</em> <em>auto</em>* <dfn class="local col3 decl" id="313find_rocm_bitcodes" title='find_rocm_bitcodes' data-type='const tvm::runtime::PackedFunc *' data-ref="313find_rocm_bitcodes" data-ref-filename="313find_rocm_bitcodes">find_rocm_bitcodes</dfn> = <span class="namespace">tvm::runtime::</span><a class="type" href="../../../include/tvm/runtime/registry.h.html#tvm::runtime::Registry" title='tvm::runtime::Registry' data-ref="tvm::runtime::Registry" data-ref-filename="tvm..runtime..Registry">Registry</a>::<a class="ref fn" href="../../../include/tvm/runtime/registry.h.html#_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='tvm::runtime::Registry::Get' data-ref="_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">Get</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"tvm_callback_rocm_bitcode_path"</q>);</td></tr>
<tr><th id="269">269</th><td>  <a class="type" href="../../../include/tvm/runtime/container/array.h.html#tvm::runtime::Array" title='tvm::runtime::Array' data-ref="tvm::runtime::Array" data-ref-filename="tvm..runtime..Array">Array</a>&lt;<span class="namespace">runtime::</span><a class="type" href="../../../include/tvm/runtime/container/string.h.html#tvm::runtime::String" title='tvm::runtime::String' data-ref="tvm::runtime::String" data-ref-filename="tvm..runtime..String">String</a>&gt; <dfn class="local col4 decl" id="314bitcode_files" title='bitcode_files' data-type='Array&lt;runtime::String&gt;' data-ref="314bitcode_files" data-ref-filename="314bitcode_files">bitcode_files</dfn> = <a class="ref fn fake" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime11TVMRetValuecvT_Ev" title='tvm::runtime::TVMRetValue::operator type-parameter-0-0' data-ref="_ZNK3tvm7runtime11TVMRetValuecvT_Ev" data-ref-filename="_ZNK3tvm7runtime11TVMRetValuecvT_Ev"></a>(*<a class="local col3 ref" href="#313find_rocm_bitcodes" title='find_rocm_bitcodes' data-ref="313find_rocm_bitcodes" data-ref-filename="313find_rocm_bitcodes">find_rocm_bitcodes</a>)<a class="ref fn" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime10PackedFuncclEDpOT_" title='tvm::runtime::PackedFunc::operator()' data-ref="_ZNK3tvm7runtime10PackedFuncclEDpOT_" data-ref-filename="_ZNK3tvm7runtime10PackedFuncclEDpOT_">()</a>;</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>  <b>for</b> (<em>auto</em>&amp; <dfn class="local col5 decl" id="315bitcode_path" title='bitcode_path' data-type='const tvm::runtime::IterAdapter&lt;tvm::runtime::Array&lt;tvm::runtime::String, void&gt;::ValueConverter, const tvm::runtime::ObjectRef *&gt;::value_type &amp;' data-ref="315bitcode_path" data-ref-filename="315bitcode_path">bitcode_path</dfn> : <a class="local col4 ref" href="#314bitcode_files" title='bitcode_files' data-ref="314bitcode_files" data-ref-filename="314bitcode_files">bitcode_files</a>) {</td></tr>
<tr><th id="272">272</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</span>&gt; <dfn class="local col6 decl" id="316mlib" title='mlib' data-type='std::unique_ptr&lt;llvm::Module&gt;' data-ref="316mlib" data-ref-filename="316mlib">mlib</dfn> = <a class="local col8 ref" href="#308llvm_instance" title='llvm_instance' data-ref="308llvm_instance" data-ref-filename="308llvm_instance">llvm_instance</a>.<a class="ref fn" href="llvm_instance.h.html#_ZNK3tvm7codegen12LLVMInstance6LoadIRERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='tvm::codegen::LLVMInstance::LoadIR' data-ref="_ZNK3tvm7codegen12LLVMInstance6LoadIRERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK3tvm7codegen12LLVMInstance6LoadIRERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">LoadIR</a>(<a class="ref fn fake" href="../../../include/tvm/runtime/container/string.h.html#_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" title='tvm::runtime::String::operator basic_string' data-ref="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" data-ref-filename="_ZNK3tvm7runtime6StringcvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv"></a><a class="local col5 ref" href="#315bitcode_path" title='bitcode_path' data-ref="315bitcode_path" data-ref-filename="315bitcode_path">bitcode_path</a>);</td></tr>
<tr><th id="273">273</th><td>    <a class="local col6 ref" href="#316mlib" title='mlib' data-ref="316mlib" data-ref-filename="316mlib">mlib</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::Module::setTargetTriple' data-ref="_ZN4llvm6Module15setTargetTripleENS_9StringRefE" data-ref-filename="_ZN4llvm6Module15setTargetTripleENS_9StringRefE">setTargetTriple</span>(<span class='ref fn fake' title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE"></span><a class="local col9 ref" href="#309llvm_target" title='llvm_target' data-ref="309llvm_target" data-ref-filename="309llvm_target">llvm_target</a><a class="ref fn" href="../../../include/tvm/support/with.h.html#_ZN3tvm4WithptEv" title='tvm::With::operator-&gt;' data-ref="_ZN3tvm4WithptEv" data-ref-filename="_ZN3tvm4WithptEv">-&gt;</a><a class="ref fn" href="llvm_instance.h.html#_ZNK3tvm7codegen14LLVMTargetInfo15GetTargetTripleB5cxx11Ev" title='tvm::codegen::LLVMTargetInfo::GetTargetTriple' data-ref="_ZNK3tvm7codegen14LLVMTargetInfo15GetTargetTripleB5cxx11Ev" data-ref-filename="_ZNK3tvm7codegen14LLVMTargetInfo15GetTargetTripleB5cxx11Ev">GetTargetTriple</a>());</td></tr>
<tr><th id="274">274</th><td>    <a class="local col6 ref" href="#316mlib" title='mlib' data-ref="316mlib" data-ref-filename="316mlib">mlib</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::Module::setDataLayout' data-ref="_ZN4llvm6Module13setDataLayoutERKNS_10DataLayoutE" data-ref-filename="_ZN4llvm6Module13setDataLayoutERKNS_10DataLayoutE">setDataLayout</span>(<a class="local col2 ref" href="#312tm" title='tm' data-ref="312tm" data-ref-filename="312tm">tm</a>-&gt;<span class='ref fn' title='llvm::TargetMachine::createDataLayout' data-ref="_ZNK4llvm13TargetMachine16createDataLayoutEv" data-ref-filename="_ZNK4llvm13TargetMachine16createDataLayoutEv">createDataLayout</span>());</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>    <b>for</b> (<span class="namespace">llvm::</span><span class='type' title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</span>&amp; <dfn class="local col7 decl" id="317f" title='f' data-type='llvm::Function &amp;' data-ref="317f" data-ref-filename="317f">f</dfn> : <a class="local col6 ref" href="#316mlib" title='mlib' data-ref="316mlib" data-ref-filename="316mlib">mlib</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::Module::functions' data-ref="_ZN4llvm6Module9functionsEv" data-ref-filename="_ZN4llvm6Module9functionsEv">functions</span>()) {</td></tr>
<tr><th id="277">277</th><td>      <a class="local col7 ref" href="#317f" title='f' data-ref="317f" data-ref-filename="317f">f</a>.<span class='ref fn' title='llvm::Function::addFnAttr' data-ref="_ZN4llvm8Function9addFnAttrENS_9Attribute8AttrKindE" data-ref-filename="_ZN4llvm8Function9addFnAttrENS_9Attribute8AttrKindE">addFnAttr</span>(<span class="namespace">llvm::</span><span class='type' title='llvm::Attribute' data-ref="llvm::Attribute" data-ref-filename="llvm..Attribute">Attribute</span>::<span class='enum' title='llvm::Attribute::AlwaysInline' data-ref="llvm::Attribute::AlwaysInline" data-ref-filename="llvm..Attribute..AlwaysInline">AlwaysInline</span>);</td></tr>
<tr><th id="278">278</th><td>    }</td></tr>
<tr><th id="279">279</th><td>    <a class="local col0 ref" href="#310cg" title='cg' data-ref="310cg" data-ref-filename="310cg">cg</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="ref fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM13AddLinkModuleEOSt10unique_ptrIN4llvm6ModuleESt14default_deleteIS4_EE" title='tvm::codegen::CodeGenLLVM::AddLinkModule' data-ref="_ZN3tvm7codegen11CodeGenLLVM13AddLinkModuleEOSt10unique_ptrIN4llvm6ModuleESt14default_deleteIS4_EE" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM13AddLinkModuleEOSt10unique_ptrIN4llvm6ModuleESt14default_deleteIS4_EE">AddLinkModule</a>(<span class="namespace">std::</span><a class="ref fn" href="../../../../include/c++/10/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_" data-ref-filename="_ZSt4moveOT_">move</a>(<span class='refarg'><a class="local col6 ref" href="#316mlib" title='mlib' data-ref="316mlib" data-ref-filename="316mlib">mlib</a></span>));</td></tr>
<tr><th id="280">280</th><td>  }</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</span>&gt; <dfn class="local col8 decl" id="318module" title='module' data-type='std::unique_ptr&lt;llvm::Module&gt;' data-ref="318module" data-ref-filename="318module">module</dfn> = <a class="local col0 ref" href="#310cg" title='cg' data-ref="310cg" data-ref-filename="310cg">cg</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><a class="virtual ref fn" href="codegen_llvm.h.html#_ZN3tvm7codegen11CodeGenLLVM6FinishEv" title='tvm::codegen::CodeGenLLVM::Finish' data-ref="_ZN3tvm7codegen11CodeGenLLVM6FinishEv" data-ref-filename="_ZN3tvm7codegen11CodeGenLLVM6FinishEv">Finish</a>();</td></tr>
<tr><th id="283">283</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::SmallString' data-ref="llvm::SmallString" data-ref-filename="llvm..SmallString">SmallString</span>&lt;<var>8</var>&gt; <span class='ref fn fake' title='llvm::SmallString::SmallString&lt;InternalLen&gt;' data-ref="_ZN4llvm11SmallStringC1Ev" data-ref-filename="_ZN4llvm11SmallStringC1Ev"></span><dfn class="local col9 decl" id="319dataObj" title='dataObj' data-type='llvm::SmallString&lt;8&gt;' data-ref="319dataObj" data-ref-filename="319dataObj">dataObj</dfn>, <span class='ref fn fake' title='llvm::SmallString::SmallString&lt;InternalLen&gt;' data-ref="_ZN4llvm11SmallStringC1Ev" data-ref-filename="_ZN4llvm11SmallStringC1Ev"></span><dfn class="local col0 decl" id="320data_ll" title='data_ll' data-type='llvm::SmallString&lt;8&gt;' data-ref="320data_ll" data-ref-filename="320data_ll">data_ll</dfn>, <span class='ref fn fake' title='llvm::SmallString::SmallString&lt;InternalLen&gt;' data-ref="_ZN4llvm11SmallStringC1Ev" data-ref-filename="_ZN4llvm11SmallStringC1Ev"></span><dfn class="local col1 decl" id="321dataAsm" title='dataAsm' data-type='llvm::SmallString&lt;8&gt;' data-ref="321dataAsm" data-ref-filename="321dataAsm">dataAsm</dfn>;</td></tr>
<tr><th id="284">284</th><td>  <span class="namespace">llvm::</span><span class='type' title='llvm::raw_svector_ostream' data-ref="llvm::raw_svector_ostream" data-ref-filename="llvm..raw_svector_ostream">raw_svector_ostream</span> <dfn class="local col2 decl" id="322destObj" title='destObj' data-type='llvm::raw_svector_ostream' data-ref="322destObj" data-ref-filename="322destObj">destObj</dfn><span class='ref fn' title='llvm::raw_svector_ostream::raw_svector_ostream' data-ref="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE" data-ref-filename="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE">(</span><a class="local col9 ref" href="#319dataObj" title='dataObj' data-ref="319dataObj" data-ref-filename="319dataObj">dataObj</a>), <dfn class="local col3 decl" id="323dest_ll" title='dest_ll' data-type='llvm::raw_svector_ostream' data-ref="323dest_ll" data-ref-filename="323dest_ll">dest_ll</dfn><span class='ref fn' title='llvm::raw_svector_ostream::raw_svector_ostream' data-ref="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE" data-ref-filename="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE">(</span><a class="local col0 ref" href="#320data_ll" title='data_ll' data-ref="320data_ll" data-ref-filename="320data_ll">data_ll</a>), <dfn class="local col4 decl" id="324destAsm" title='destAsm' data-type='llvm::raw_svector_ostream' data-ref="324destAsm" data-ref-filename="324destAsm">destAsm</dfn><span class='ref fn' title='llvm::raw_svector_ostream::raw_svector_ostream' data-ref="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE" data-ref-filename="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE">(</span><a class="local col1 ref" href="#321dataAsm" title='dataAsm' data-ref="321dataAsm" data-ref-filename="321dataAsm">dataAsm</a>);</td></tr>
<tr><th id="285">285</th><td>  <a class="local col2 ref" href="#322destObj" title='destObj' data-ref="322destObj" data-ref-filename="322destObj">destObj</a>.<span class='ref fn' title='llvm::raw_ostream::SetUnbuffered' data-ref="_ZN4llvm11raw_ostream13SetUnbufferedEv" data-ref-filename="_ZN4llvm11raw_ostream13SetUnbufferedEv">SetUnbuffered</span>();</td></tr>
<tr><th id="286">286</th><td>  <a class="local col3 ref" href="#323dest_ll" title='dest_ll' data-ref="323dest_ll" data-ref-filename="323dest_ll">dest_ll</a>.<span class='ref fn' title='llvm::raw_ostream::SetUnbuffered' data-ref="_ZN4llvm11raw_ostream13SetUnbufferedEv" data-ref-filename="_ZN4llvm11raw_ostream13SetUnbufferedEv">SetUnbuffered</span>();</td></tr>
<tr><th id="287">287</th><td>  <a class="local col4 ref" href="#324destAsm" title='destAsm' data-ref="324destAsm" data-ref-filename="324destAsm">destAsm</a>.<span class='ref fn' title='llvm::raw_ostream::SetUnbuffered' data-ref="_ZN4llvm11raw_ostream13SetUnbufferedEv" data-ref-filename="_ZN4llvm11raw_ostream13SetUnbufferedEv">SetUnbuffered</span>();</td></tr>
<tr><th id="288">288</th><td>  <a class="local col8 ref" href="#318module" title='module' data-ref="318module" data-ref-filename="318module">module</a><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</a><span class='ref fn' title='llvm::Module::print' data-ref="_ZNK4llvm6Module5printERNS_11raw_ostreamEPNS_24AssemblyAnnotationWriterEbb" data-ref-filename="_ZNK4llvm6Module5printERNS_11raw_ostreamEPNS_24AssemblyAnnotationWriterEbb">print</span>(<span class='refarg'><a class="local col3 ref" href="#323dest_ll" title='dest_ll' data-ref="323dest_ll" data-ref-filename="323dest_ll">dest_ll</a></span>, <b>nullptr</b>);</td></tr>
<tr><th id="289">289</th><td><u>#<span data-ppcond="289">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt;= 60</u></td></tr>
<tr><th id="290">290</th><td>  std::unique_ptr&lt;llvm::Module&gt; mAsm = llvm::CloneModule(module.get());</td></tr>
<tr><th id="291">291</th><td>  std::unique_ptr&lt;llvm::Module&gt; mObj = llvm::CloneModule(module.get());</td></tr>
<tr><th id="292">292</th><td><u>#<span data-ppcond="289">else</span></u></td></tr>
<tr><th id="293">293</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</span>&gt; <dfn class="local col5 decl" id="325mAsm" title='mAsm' data-type='std::unique_ptr&lt;llvm::Module&gt;' data-ref="325mAsm" data-ref-filename="325mAsm">mAsm</dfn> = <span class="namespace">llvm::</span><span class='ref fn' title='llvm::CloneModule' data-ref="_ZN4llvm11CloneModuleERKNS_6ModuleE" data-ref-filename="_ZN4llvm11CloneModuleERKNS_6ModuleE">CloneModule</span>(*<a class="local col8 ref" href="#318module" title='module' data-ref="318module" data-ref-filename="318module">module</a>.<a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv" data-ref-filename="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="294">294</th><td>  <span class="namespace">std::</span><a class="type" href="../../../../include/c++/10/bits/unique_ptr.h.html#std::unique_ptr" title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</a>&lt;<span class="namespace">llvm::</span><span class='type' title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</span>&gt; <dfn class="local col6 decl" id="326mObj" title='mObj' data-type='std::unique_ptr&lt;llvm::Module&gt;' data-ref="326mObj" data-ref-filename="326mObj">mObj</dfn> = <span class="namespace">llvm::</span><span class='ref fn' title='llvm::CloneModule' data-ref="_ZN4llvm11CloneModuleERKNS_6ModuleE" data-ref-filename="_ZN4llvm11CloneModuleERKNS_6ModuleE">CloneModule</span>(*<a class="local col8 ref" href="#318module" title='module' data-ref="318module" data-ref-filename="318module">module</a>.<a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptr3getEv" title='std::unique_ptr::get' data-ref="_ZNKSt10unique_ptr3getEv" data-ref-filename="_ZNKSt10unique_ptr3getEv">get</a>());</td></tr>
<tr><th id="295">295</th><td><u>#<span data-ppcond="289">endif</span></u></td></tr>
<tr><th id="296">296</th><td>  <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManager' data-ref="llvm::legacy::PassManager" data-ref-filename="llvm..legacy..PassManager">PassManager</span> <span class='ref fn fake' title='llvm::legacy::PassManager::PassManager' data-ref="_ZN4llvm6legacy11PassManagerC1Ev" data-ref-filename="_ZN4llvm6legacy11PassManagerC1Ev"></span><dfn class="local col7 decl" id="327pass" title='pass' data-type='llvm::legacy::PassManager' data-ref="327pass" data-ref-filename="327pass">pass</dfn>;</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td><u>#<span data-ppcond="298">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt;= 60</u></td></tr>
<tr><th id="299">299</th><td>  ICHECK(tm-&gt;addPassesToEmitFile(pass, destObj, llvm::TargetMachine::CGFT_ObjectFile) == <var>0</var>)</td></tr>
<tr><th id="300">300</th><td>      &lt;&lt; <q>"Cannot emit target CGFT_ObjectFile"</q>;</td></tr>
<tr><th id="301">301</th><td><u>#<span data-ppcond="298">elif</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt;= 90</u></td></tr>
<tr><th id="302">302</th><td>  ICHECK(tm-&gt;addPassesToEmitFile(pass, destObj, <b>nullptr</b>, llvm::TargetMachine::CGFT_ObjectFile) == <var>0</var>)</td></tr>
<tr><th id="303">303</th><td>      &lt;&lt; <q>"Cannot emit target CGFT_ObjectFile"</q>;</td></tr>
<tr><th id="304">304</th><td><u>#<span data-ppcond="298">else</span></u></td></tr>
<tr><th id="305">305</th><td>  <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(tm-&gt;addPassesToEmitFile(pass, destObj, nullptr, llvm::CGFT_ObjectFile) == 0)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 305).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;tm-&gt;addPassesToEmitFile(pass, destObj, nullptr, llvm::CGFT_ObjectFile) == 0&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col2 ref" href="#312tm" title='tm' data-ref="312tm" data-ref-filename="312tm">tm</a>-&gt;<span class='virtual ref fn' title='llvm::TargetMachine::addPassesToEmitFile' data-ref="_ZN4llvm13TargetMachine19addPassesToEmitFileERNS_6legacy15PassManagerBaseERNS_17raw_pwrite_streamEPS4_NS_15CodeGenFileTypeEbPNS_28MachineModuleInfoWrapperPassE" data-ref-filename="_ZN4llvm13TargetMachine19addPassesToEmitFileERNS_6legacy15PassManagerBaseERNS_17raw_pwrite_streamEPS4_NS_15CodeGenFileTypeEbPNS_28MachineModuleInfoWrapperPassE">addPassesToEmitFile</span>(<span class='refarg'><a class="local col7 ref" href="#327pass" title='pass' data-ref="327pass" data-ref-filename="327pass">pass</a></span>, <span class='refarg'><a class="local col2 ref" href="#322destObj" title='destObj' data-ref="322destObj" data-ref-filename="322destObj">destObj</a></span>, <b>nullptr</b>, llvm::<span class='enum' title='llvm::CGFT_ObjectFile' data-ref="llvm::CGFT_ObjectFile" data-ref-filename="llvm..CGFT_ObjectFile">CGFT_ObjectFile</span>) == <var>0</var>)</td></tr>
<tr><th id="306">306</th><td>      <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Cannot emit target CGFT_ObjectFile"</q>;</td></tr>
<tr><th id="307">307</th><td><u>#<span data-ppcond="298">endif</span></u></td></tr>
<tr><th id="308">308</th><td>  <a class="local col7 ref" href="#327pass" title='pass' data-ref="327pass" data-ref-filename="327pass">pass</a>.<span class='ref fn' title='llvm::legacy::PassManager::run' data-ref="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE" data-ref-filename="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE">run</span>(<span class='refarg'><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv" data-ref-filename="_ZNKSt10unique_ptrdeEv">*</a><a class="local col6 ref" href="#326mObj" title='mObj' data-ref="326mObj" data-ref-filename="326mObj">mObj</a></span>);</td></tr>
<tr><th id="309">309</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a> <dfn class="local col8 decl" id="328obj" title='obj' data-type='std::string' data-ref="328obj" data-ref-filename="328obj">obj</dfn><a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_">(</a><a class="local col9 ref" href="#319dataObj" title='dataObj' data-ref="319dataObj" data-ref-filename="319dataObj">dataObj</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</span>(), <a class="local col9 ref" href="#319dataObj" title='dataObj' data-ref="319dataObj" data-ref-filename="319dataObj">dataObj</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::end' data-ref="_ZN4llvm25SmallVectorTemplateCommon3endEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon3endEv">end</span>());</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>  <span class="namespace">llvm::legacy::</span><span class='type' title='llvm::legacy::PassManager' data-ref="llvm::legacy::PassManager" data-ref-filename="llvm..legacy..PassManager">PassManager</span> <span class='ref fn fake' title='llvm::legacy::PassManager::PassManager' data-ref="_ZN4llvm6legacy11PassManagerC1Ev" data-ref-filename="_ZN4llvm6legacy11PassManagerC1Ev"></span><dfn class="local col9 decl" id="329passAsm" title='passAsm' data-type='llvm::legacy::PassManager' data-ref="329passAsm" data-ref-filename="329passAsm">passAsm</dfn>;</td></tr>
<tr><th id="312">312</th><td><u>#<span data-ppcond="312">if</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt;= 60</u></td></tr>
<tr><th id="313">313</th><td>  ICHECK(tm-&gt;addPassesToEmitFile(passAsm, destAsm, llvm::TargetMachine::CGFT_AssemblyFile) == <var>0</var>)</td></tr>
<tr><th id="314">314</th><td>      &lt;&lt; <q>"Cannot emit target CGFT_AssemblyFile"</q>;</td></tr>
<tr><th id="315">315</th><td><u>#<span data-ppcond="312">elif</span> <span class="macro" title="140" data-ref="_M/TVM_LLVM_VERSION">TVM_LLVM_VERSION</span> &lt;= 90</u></td></tr>
<tr><th id="316">316</th><td>  ICHECK(tm-&gt;addPassesToEmitFile(passAsm, destAsm, <b>nullptr</b>,</td></tr>
<tr><th id="317">317</th><td>                                 llvm::TargetMachine::CGFT_AssemblyFile) == <var>0</var>)</td></tr>
<tr><th id="318">318</th><td>      &lt;&lt; <q>"Cannot emit target CGFT_AssemblyFile"</q>;</td></tr>
<tr><th id="319">319</th><td><u>#<span data-ppcond="312">else</span></u></td></tr>
<tr><th id="320">320</th><td>  <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(tm-&gt;addPassesToEmitFile(passAsm, destAsm, nullptr, llvm::CGFT_AssemblyFile) == 0)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 320).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;tm-&gt;addPassesToEmitFile(passAsm, destAsm, nullptr, llvm::CGFT_AssemblyFile) == 0&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col2 ref" href="#312tm" title='tm' data-ref="312tm" data-ref-filename="312tm">tm</a>-&gt;<span class='virtual ref fn' title='llvm::TargetMachine::addPassesToEmitFile' data-ref="_ZN4llvm13TargetMachine19addPassesToEmitFileERNS_6legacy15PassManagerBaseERNS_17raw_pwrite_streamEPS4_NS_15CodeGenFileTypeEbPNS_28MachineModuleInfoWrapperPassE" data-ref-filename="_ZN4llvm13TargetMachine19addPassesToEmitFileERNS_6legacy15PassManagerBaseERNS_17raw_pwrite_streamEPS4_NS_15CodeGenFileTypeEbPNS_28MachineModuleInfoWrapperPassE">addPassesToEmitFile</span>(<span class='refarg'><a class="local col9 ref" href="#329passAsm" title='passAsm' data-ref="329passAsm" data-ref-filename="329passAsm">passAsm</a></span>, <span class='refarg'><a class="local col4 ref" href="#324destAsm" title='destAsm' data-ref="324destAsm" data-ref-filename="324destAsm">destAsm</a></span>, <b>nullptr</b>, llvm::<span class='enum' title='llvm::CGFT_AssemblyFile' data-ref="llvm::CGFT_AssemblyFile" data-ref-filename="llvm..CGFT_AssemblyFile">CGFT_AssemblyFile</span>) == <var>0</var>)</td></tr>
<tr><th id="321">321</th><td>      <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Cannot emit target CGFT_AssemblyFile"</q>;</td></tr>
<tr><th id="322">322</th><td><u>#<span data-ppcond="312">endif</span></u></td></tr>
<tr><th id="323">323</th><td>  <a class="local col9 ref" href="#329passAsm" title='passAsm' data-ref="329passAsm" data-ref-filename="329passAsm">passAsm</a>.<span class='ref fn' title='llvm::legacy::PassManager::run' data-ref="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE" data-ref-filename="_ZN4llvm6legacy11PassManager3runERNS_6ModuleE">run</span>(<span class='refarg'><a class="ref fn" href="../../../../include/c++/10/bits/unique_ptr.h.html#_ZNKSt10unique_ptrdeEv" title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv" data-ref-filename="_ZNKSt10unique_ptrdeEv">*</a><a class="local col5 ref" href="#325mAsm" title='mAsm' data-ref="325mAsm" data-ref-filename="325mAsm">mAsm</a></span>);</td></tr>
<tr><th id="324">324</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a> <dfn class="local col0 decl" id="330assembly" title='assembly' data-type='std::string' data-ref="330assembly" data-ref-filename="330assembly">assembly</dfn><a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_">(</a><a class="local col1 ref" href="#321dataAsm" title='dataAsm' data-ref="321dataAsm" data-ref-filename="321dataAsm">dataAsm</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</span>(), <a class="local col1 ref" href="#321dataAsm" title='dataAsm' data-ref="321dataAsm" data-ref-filename="321dataAsm">dataAsm</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::end' data-ref="_ZN4llvm25SmallVectorTemplateCommon3endEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon3endEv">end</span>());</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td>  <em>const</em> <em>auto</em>* <dfn class="local col1 decl" id="331f" title='f' data-type='const tvm::runtime::PackedFunc *' data-ref="331f" data-ref-filename="331f">f</dfn> = <span class="namespace">tvm::runtime::</span><a class="type" href="../../../include/tvm/runtime/registry.h.html#tvm::runtime::Registry" title='tvm::runtime::Registry' data-ref="tvm::runtime::Registry" data-ref-filename="tvm..runtime..Registry">Registry</a>::<a class="ref fn" href="../../../include/tvm/runtime/registry.h.html#_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='tvm::runtime::Registry::Get' data-ref="_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN3tvm7runtime8Registry3GetERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">Get</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"tvm_callback_rocm_link"</q>);</td></tr>
<tr><th id="327">327</th><td>  <a class="macro" href="../../../include/tvm/runtime/logging.h.html#680" title="if (!(f != nullptr)) ::tvm::runtime::detail::LogFatal(&quot;/home/runner/work/tvm-woboq/tvm-woboq/tvm/src/target/llvm/codegen_amdgpu.cc&quot;, 327).stream() &lt;&lt; ::tvm::runtime::detail::kTVM_INTERNAL_ERROR_MESSAGE &lt;&lt; &quot;  &quot; &lt;&lt; &quot;Check failed: (&quot; &quot;f != nullptr&quot; &lt;&lt; &quot;) is false: &quot;" data-ref="_M/ICHECK">ICHECK</a>(<a class="local col1 ref" href="#331f" title='f' data-ref="331f" data-ref-filename="331f">f</a> != <b>nullptr</b>) <a class="ref fn" href="../../../../include/c++/10/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" data-ref-filename="_ZStlsRSt13basic_ostreamIcT_EPKc">&lt;&lt;</a> <q>"Require tvm_callback_rocm_link to exist, do import tvm.contrib.rocm"</q>;</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td>  <a class="typedef" href="../../../include/tvm/runtime/c_runtime_api.h.html#TVMByteArray" title='TVMByteArray' data-type='struct TVMByteArray' data-ref="TVMByteArray" data-ref-filename="TVMByteArray">TVMByteArray</a> <a class="ref fn fake" href="../../../include/tvm/runtime/c_runtime_api.h.html#157" title='(anonymous struct)::' data-ref="_ZN12TVMByteArrayC1Ev" data-ref-filename="_ZN12TVMByteArrayC1Ev"></a><dfn class="local col2 decl" id="332arr" title='arr' data-type='TVMByteArray' data-ref="332arr" data-ref-filename="332arr">arr</dfn>;</td></tr>
<tr><th id="330">330</th><td>  <a class="local col2 ref" href="#332arr" title='arr' data-ref="332arr" data-ref-filename="332arr">arr</a>.<a class="ref field" href="../../../include/tvm/runtime/c_runtime_api.h.html#(anonymous)::data" title='(anonymous struct)::data' data-ref="(anonymous)::data" data-ref-filename="(anonymous)..data">data</a> = &amp;<a class="local col8 ref" href="#328obj" title='obj' data-ref="328obj" data-ref-filename="328obj">obj</a><a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringixEN9__gnu_cxx14__alloc_traitsINS2_IT1_NS3_10value_typeEE6rebindIT_E5otherENS8_5other10value_typeEE9size_typeE" title='std::basic_string::operator[]' data-ref="_ZNSt7__cxx1112basic_stringixEN9__gnu_cxx14__alloc_traitsINS2_IT1_NS3_10value_typeEE6rebindIT_E5otherENS8_5other10value_typeEE9size_typeE" data-ref-filename="_ZNSt7__cxx1112basic_stringixEN9__gnu_cxx14__alloc_traitsINS2_IT1_NS3_10value_typeEE6rebindIT_E5otherENS8_5other10value_typeEE9size_typeE">[<var>0</var>]</a>;</td></tr>
<tr><th id="331">331</th><td>  <a class="local col2 ref" href="#332arr" title='arr' data-ref="332arr" data-ref-filename="332arr">arr</a>.<a class="ref field" href="../../../include/tvm/runtime/c_runtime_api.h.html#(anonymous)::size" title='(anonymous struct)::size' data-ref="(anonymous)::size" data-ref-filename="(anonymous)..size">size</a> = <a class="local col8 ref" href="#328obj" title='obj' data-ref="328obj" data-ref-filename="328obj">obj</a>.<a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNKSt7__cxx1112basic_string6lengthEv" title='std::basic_string::length' data-ref="_ZNKSt7__cxx1112basic_string6lengthEv" data-ref-filename="_ZNKSt7__cxx1112basic_string6lengthEv">length</a>();</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a> <dfn class="local col3 decl" id="333hsaco" title='hsaco' data-type='std::string' data-ref="333hsaco" data-ref-filename="333hsaco">hsaco</dfn> = <a class="ref fn fake" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime11TVMRetValuecvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" title='tvm::runtime::TVMRetValue::operator basic_string' data-ref="_ZNK3tvm7runtime11TVMRetValuecvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv" data-ref-filename="_ZNK3tvm7runtime11TVMRetValuecvNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEv"></a>(*<a class="local col1 ref" href="#331f" title='f' data-ref="331f" data-ref-filename="331f">f</a>)<a class="ref fn" href="../../../include/tvm/runtime/packed_func.h.html#_ZNK3tvm7runtime10PackedFuncclEDpOT_" title='tvm::runtime::PackedFunc::operator()' data-ref="_ZNK3tvm7runtime10PackedFuncclEDpOT_" data-ref-filename="_ZNK3tvm7runtime10PackedFuncclEDpOT_">(<a class="local col2 ref" href="#332arr" title='arr' data-ref="332arr" data-ref-filename="332arr">arr</a>)</a>;</td></tr>
<tr><th id="334">334</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/c++/10/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</a> <dfn class="local col4 decl" id="334ll" title='ll' data-type='std::string' data-ref="334ll" data-ref-filename="334ll">ll</dfn><a class="ref fn" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ETL0__S1_RKT1_">(</a><a class="local col0 ref" href="#320data_ll" title='data_ll' data-ref="320data_ll" data-ref-filename="320data_ll">data_ll</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</span>(), <a class="local col0 ref" href="#320data_ll" title='data_ll' data-ref="320data_ll" data-ref-filename="320data_ll">data_ll</a>.<span class='ref fn' title='llvm::SmallVectorTemplateCommon::end' data-ref="_ZN4llvm25SmallVectorTemplateCommon3endEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon3endEv">end</span>());</td></tr>
<tr><th id="335">335</th><td>  <b>return</b> <a class="ref fn" href="../../runtime/rocm/rocm_module.h.html#_ZN3tvm7runtime16ROCMModuleCreateENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES6_St13unordered_mapIS6_NS0_12FunctionInfoESt4hashIS6_ESt8equal_16434516" title='tvm::runtime::ROCMModuleCreate' data-ref="_ZN3tvm7runtime16ROCMModuleCreateENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES6_St13unordered_mapIS6_NS0_12FunctionInfoESt4hashIS6_ESt8equal_16434516" data-ref-filename="_ZN3tvm7runtime16ROCMModuleCreateENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES6_St13unordered_mapIS6_NS0_12FunctionInfoESt4hashIS6_ESt8equal_16434516">ROCMModuleCreate</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE"></a><a class="local col3 ref" href="#333hsaco" title='hsaco' data-ref="333hsaco" data-ref-filename="333hsaco">hsaco</a>, <a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"hsaco"</q>, <a class="ref fn" href="../build_common.h.html#_ZN3tvm7codegen15ExtractFuncInfoB5cxx11ERKNS_8IRModuleE" title='tvm::codegen::ExtractFuncInfo' data-ref="_ZN3tvm7codegen15ExtractFuncInfoB5cxx11ERKNS_8IRModuleE" data-ref-filename="_ZN3tvm7codegen15ExtractFuncInfoB5cxx11ERKNS_8IRModuleE">ExtractFuncInfo</a>(<a class="local col6 ref" href="#306mod" title='mod' data-ref="306mod" data-ref-filename="306mod">mod</a>), <a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE"></a><a class="local col4 ref" href="#334ll" title='ll' data-ref="334ll" data-ref-filename="334ll">ll</a>, <a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE"></a><a class="local col0 ref" href="#330assembly" title='assembly' data-ref="330assembly" data-ref-filename="330assembly">assembly</a>);</td></tr>
<tr><th id="336">336</th><td>}</td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td><a class="macro" href="../../../include/tvm/runtime/registry.h.html#339" title="static __attribute__((unused)) ::tvm::runtime::Registry&amp; __mk_TVM0 = ::tvm::runtime::Registry::Register(&quot;target.build.rocm&quot;)" data-ref="_M/TVM_REGISTER_GLOBAL">TVM_REGISTER_GLOBAL</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"target.build.rocm"</q>).<a class="ref fn" href="../../../include/tvm/runtime/registry.h.html#_ZN3tvm7runtime8Registry14set_body_typedET_" title='tvm::runtime::Registry::set_body_typed' data-ref="_ZN3tvm7runtime8Registry14set_body_typedET_" data-ref-filename="_ZN3tvm7runtime8Registry14set_body_typedET_">set_body_typed</a>(<a class="ref fn" href="#_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE" title='tvm::codegen::BuildAMDGPU' data-ref="_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE" data-ref-filename="_ZN3tvm7codegen11BuildAMDGPUENS_8IRModuleENS_6TargetE">BuildAMDGPU</a>);</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td><a class="macro" href="../../../include/tvm/runtime/registry.h.html#339" title="static __attribute__((unused)) ::tvm::runtime::Registry&amp; __mk_TVM2 = ::tvm::runtime::Registry::Register(&quot;tvm.codegen.llvm.target_rocm&quot;)" data-ref="_M/TVM_REGISTER_GLOBAL">TVM_REGISTER_GLOBAL</a>(<a class="ref fn fake" href="../../../../include/c++/10/bits/basic_string.h.html#_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></a><q>"tvm.codegen.llvm.target_rocm"</q>)</td></tr>
<tr><th id="341">341</th><td>    .<a class="tu ref fn" href="../../../include/tvm/runtime/registry.h.html#_ZN3tvm7runtime8Registry8set_bodyET_" title='tvm::runtime::Registry::set_body' data-use='c' data-ref="_ZN3tvm7runtime8Registry8set_bodyET_" data-ref-filename="_ZN3tvm7runtime8Registry8set_bodyET_">set_body</a>([](<em>const</em> TVMArgs&amp; <dfn class="local col5 decl" id="335targs" title='targs' data-type='const tvm::runtime::TVMArgs &amp;' data-ref="335targs" data-ref-filename="335targs">targs</dfn>, TVMRetValue* <dfn class="local col6 decl" id="336rv" title='rv' data-type='tvm::runtime::TVMRetValue *' data-ref="336rv" data-ref-filename="336rv">rv</dfn>) {</td></tr>
<tr><th id="342">342</th><td>      *<a class="local col6 ref" href="#336rv" title='rv' data-ref="336rv" data-ref-filename="336rv">rv</a> <a class="ref fn" href="../../../include/tvm/runtime/packed_func.h.html#_ZN3tvm7runtime11TVMRetValueaSEPv" title='tvm::runtime::TVMRetValue::operator=' data-ref="_ZN3tvm7runtime11TVMRetValueaSEPv" data-ref-filename="_ZN3tvm7runtime11TVMRetValueaSEPv">=</a> <b>static_cast</b>&lt;<em>void</em>*&gt;(<b>new</b> <a class="type" href="#tvm::codegen::CodeGenAMDGPU" title='tvm::codegen::CodeGenAMDGPU' data-ref="tvm::codegen::CodeGenAMDGPU" data-ref-filename="tvm..codegen..CodeGenAMDGPU">CodeGenAMDGPU</a><a class="tu ref fn" href="#_ZN3tvm7codegen13CodeGenAMDGPUC1Ev" title='tvm::codegen::CodeGenAMDGPU::CodeGenAMDGPU' data-use='c' data-ref="_ZN3tvm7codegen13CodeGenAMDGPUC1Ev" data-ref-filename="_ZN3tvm7codegen13CodeGenAMDGPUC1Ev">(</a>));</td></tr>
<tr><th id="343">343</th><td>    });</td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td>}  <i>// namespace codegen</i></td></tr>
<tr><th id="346">346</th><td>}  <i>// namespace tvm</i></td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td><u>#<span data-ppcond="24">endif</span>  // TVM_LLVM_VERSION</u></td></tr>
<tr><th id="349">349</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2022-Aug-25</em> from project tvm revision <em>cc19cdd</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
